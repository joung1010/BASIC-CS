## 네트워크와 네트워킹

### 네트워크의 본질적 의미

**네트워크라는 단어가 주는 의미는 관계**라고 생각하면 됩니다. 흔히 소셜 네트워크라고 하는 것 역시도 관계망으로써의 의미를 가집니다. 그러면 같은 맥락에서 **네트워킹은 상호 작용**이라 생각하면 좋습니다.

### 상호 작용의 계층적 구조

```
상호  <<상호 작용>>  Jenie
     
L3   영어(언어)
     ─────────────────
L2   말, 글(Email)  
     ─────────────────────
L1   공기중, 2m 이내
     ═══════════════════════
```

만약 상호가 Jenie와 상호 작용한다고 했을 때:

1. **가장 먼저 언어적인 문제가 해결되지 않는다면** 원활하게 상호작용하기가 쉽지 않을 것입니다
2. **만약 둘의 거리가 가깝다면** 말로써 전달하면 될 텐데 그렇지 않다면 글(Email)을 이용해야 될 수도 있습니다
3. **만약 말로써 소통한다면** 상식적으로 공기중에, 2m 이내 있는 거리에 있어야 상호작용이 가능할 것입니다

지금 위 과정을 보면 **계층적 Layered 구조를 이루고 있는 것을 볼 수 있고 각 계층은 의존적인 것**을 확인할 수 있습니다.

### OSI 7 Layer의 본질

**OSI 7 Layer가 이 네트워크 공부에 있어서 매우 큰 진입장벽인데 쉽게 설명하면 위 과정을 말하는 것**입니다. 그래서 위 계층을 L7까지 올려서 이 내용을 관념적으로 풀어서 설명한 것이 결국 **OSI 7 Layer**입니다.

### 프로토콜(Protocol)의 정의

그래서 결국:

- **네트워크는 관계에 대한 것**
- **네트워킹은 상호작용에 관한 것**
- **계층별로 어떤 규칙을 정하는데 이때 규칙을 규칙이라 하지 않고 Protocol(프로토콜)이라고 합니다**

**의존적 관계가 성립하는 프로토콜, 즉 규칙을 계층구조로 위와 같이 의존관계가 성립했으니 나열한 것**입니다.

**OSI 7 Layer는 명백히 개념에 대한 내용을 말하는 것**입니다.

## 개념과 구현의 관계

### 상속 관계의 이해

```
요소
┌──────────┐     관계      ┌─────────┐   
│  연예인   │  ←────────── │ 박은빈  │
└──────────┘              └─────────┘
   (개념)                   (구현체)
```

위 요소를 보면 **박은빈은 연예인의 일종**입니다. 수많은 연예인 중 한 명입니다.

이때 **개념이라고 하는 것은 연예인이고 이 개념에 대해 실제적 사례(구현)가 박은빈**입니다. 이러한 관계를 보통 **상속 관계**라고 합니다.

### 학습 순서의 중요성

만약에 내가 박은빈 배우가 너무 좋아서 이 사람이랑 친해지고 싶어서 공부를 한다면 어떤 것을 해야 할까요?

**연예인에 대해서? 여배우니 여성에 대해서 막 공부를 한다고 해서 친해질 수 있을까요? 박은빈 배우를 이해할 수 있을까요?? 말도 안 되는 소리입니다.**

그래서 **이 개념이라는 것은 매우 어렵고 철학과도 같습니다.**

올바른 접근법:

1. **먼저 박은빈이라는 배우가 무엇을 좋아하는지를 알고**
2. **다른 여러 연예인들을 만나본 후에**
3. **반대로 연예인은 무엇이구나 라고 거꾸로 도출할 수 있습니다**

### 네트워크 학습 전략

**OSI 7 Layer를 마지막에 공부해야 되는 이유**입니다. OSI 7 Layer는 개념에 속하는 내용입니다.

```
구체적 구현 → 패턴 파악 → 개념 도출

TCP/IP 구현 공부 → 다양한 프로토콜 경험 → OSI 7 Layer 개념 이해
```

그래서 **TCP/IP가 궁금하면 해당 문법과 규칙을 공부해야지** 그 윗단인 전송계층에 대해서 "전송이 무엇인가, 네트워크란 무엇인가"는 "사랑은 무엇인가, 우정은 무엇인가"와 같은 **너무나도 개념적인 내용으로 흘러갑니다.**

그래서 **현재 단계에서는 구현을 공부하고 나중에 이 부분이 완벽해졌을 때 역으로 추론해보자**는 것이 올바른 학습 접근법입니다.  

## 네트워크 스택과 OSI 7 Layer

### 실제 구현 위치별 계층 구조

```
              Application
                Chrome              OSI 7 Layer
                                   ┌─────────────┐
                                   │Application  │ L7 응용 계층
                                   │Presentation │ L6 표현 계층        
User mode                          │Session      │ L5 세션 계층
─────────────────────────────────────────────────────────────
Kernel mode    ┌─────┐             │             │
               │ TCP │             │TransPort    │ L4  전송
               └─────┘             │             │ 
               ┌─────┐             └─────────────┘
               │ IP  │             ┌─────────────┐
               └─────┘             │Net Work     │ L3 네트워크
S/W            Driver              │             │ 
─────────────────────────────────────────────────────────────
H/W            NIC                 │Data Link    │ L2  데이터 링크
                                   └─────────────┘ 
                                   ┌─────────────┐
                                   │Physical     │ L1  물리 계층
                                   └─────────────┘
```

### 주요 구성 요소

**NIC(Network Interface Card)**: LAN 카드라고 부르는 것
**Driver**: 하드웨어를 제어하기 위한 소프트웨어

### OSI 상위 3계층 (L5-L7) 간단 설명

### L7 Application Layer (응용 계층)

**역할**: 사용자가 직접 사용하는 프로그램들
**예시**: Chrome 브라우저, 카카오톡, 게임, 이메일 프로그램

### L6 Presentation Layer (표현 계층)

**역할**: 데이터 변환, 암호화, 압축
**예시**: JPEG 이미지 압축, HTTPS 암호화, 한글 인코딩(UTF-8)

### L5 Session Layer (세션 계층)

**역할**: 연결 관리, 대화 제어
**예시**: 로그인 유지, 화상회의 참가자 관리, 파일 전송 중 끊어졌을 때 재개

### 소켓(Socket) 인터페이스

**유저모드 어플리케이션 프로세스가 커널에 접근할 수 있도록 파일 형태의 인터페이스가 존재**합니다. 위와 같은 경우는 특별하게 **TCP/IP를 추상화시킨 인터페이스 파일을 소켓이라고 부릅니다.**

```
User Application (Chrome)
         ↓
    Socket Interface (파일 형태)
         ↓
Kernel Mode (TCP/IP Stack)
```

### 계층별 구현 위치 분석

### User Mode (L5 이상)

**OSI 7 Layer에서 L5 위로 올라가면 User mode Application**입니다. 즉 **프로세스 수준에서 설명이 가능한 계층**입니다.

### Kernel Mode (L3-L4)

**L4 전송계층은 운영체제에 구현되어 있는 것**입니다.

- **L4 Transport**: **TCP가 전송 계층에 해당**합니다
- **L3 Network**: **IP는 네트워크 계층에 해당**합니다

### Software/Hardware 경계 (L1-L2)

**드라이버와 일부 H/W 계층은 데이터 링크 계층, 실제 NIC가 물리 계층에 속하게 됩니다.**

- **L2 Data Link**: 드라이버와 일부 H/W가 담당 (MAC 주소, 프레임 처리)
- **L1 Physical**: NIC 하드웨어가 담당 (전기 신호, 케이블)

### 데이터 흐름의 실제 경로

```
사용자 데이터 입력
    ↓
Chrome (L7) - 사용자 인터페이스
    ↓
표현/세션 계층 (L6/L5) - 암호화, 세션 관리
    ↓
Socket API (User ↔ Kernel 경계)
    ↓
TCP (L4) - 포트 번호 추가
    ↓
IP (L3) - IP 주소 추가
    ↓
Driver (L2) - MAC 주소 추가
    ↓
NIC (L1) - 전기 신호 변환
    ↓
네트워크로 전송
```

이렇게 **실제 구현 관점에서 보면 OSI 7 Layer는 논리적 분류이고, 물리적으로는 User Mode, Kernel Mode, Hardware로 나뉘어 구현**된다는 것을 알 수 있습니다.