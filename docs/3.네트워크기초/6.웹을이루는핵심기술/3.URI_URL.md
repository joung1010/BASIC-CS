# URL과 URI

## 기본 개념 정의

- **URL**: Uniform Resource **Locator(위치 지정자)**
- **URI**: Uniform Resource **Identifier(식별자)**

```
개념 관계도:

        URI (식별자 - 포괄적 개념)
           ┌─────────────────────┐
           │       URL           │  URN
           │    (위치기반)        │ (이름기반)
           └─────────────────────┘
           
예시:
URI: mailto:user@example.com (이메일 주소 식별)
URL: https://www.naver.com/index.html (웹 리소스 위치)
URN: urn:isbn:9788966261208 (책 고유 식별자)
```

## 웹에서의 Resource(자원) 개념

**URL과 URI에 있는 Resource란 무엇인가?**

일단 **웹에 한정지어서 생각해보면** 웹의 가장 근간은 **HTML 문서를 HTTP 프로토콜로 이 문서를 실어 나르는 것이 핵심**이었다. 그래서 여기서 **Resource 자원은 파일**이다.

이 **파일이라는 것의 위치 즉 저장된 위치 그것 하나를 Resource Locator**라고 한다.

그러면 요즘 HTML은 **HTML뿐만 아니라 CSS, .jpg, .js를 포함한 이 파일들이 리소스**인 것이다.

```
웹 리소스의 진화:

초기 웹 (1990년대):
┌─────────────────────────────────────────────────┐
│ • HTML 문서만 주로 존재                          │
│ • 정적 텍스트 중심                              │
│ • 단순한 하이퍼링크                             │
└─────────────────────────────────────────────────┘

현대 웹:
┌─────────────────────────────────────────────────┐
│ • HTML: 구조와 내용                             │
│ • CSS: 스타일과 디자인                          │
│ • JavaScript: 동적 기능과 상호작용               │
│ • 이미지: .jpg, .png, .gif, .svg               │
│ • 미디어: .mp4, .mp3, .pdf                     │
│ • 데이터: JSON, XML API 응답                    │
│ • 폰트: .woff, .ttf                            │
└─────────────────────────────────────────────────┘

모든 것이 웹 리소스:
각각은 고유한 URL을 가지고 독립적으로 요청/응답 가능
```

## URL vs URI의 관계

대부분 우리가 **인터넷 주소창에 주소를 입력하면 URL을 입력했다고 한다**. 근데 **이것보다 좀 더 큰 범주 안에 포함되는 개념이 URI**이다.

그래서 **식별자로써 보는 것이 포괄적 개념이고 위치를 특정한다고 하면 파일을 특정한다라는 수준까지 간다**고 생각하면 된다.

```
실제 사용 예시:

URL (위치 지정):
┌─────────────────────────────────────────────────┐
│ https://www.naver.com/search.naver?query=AI     │
│ → 네이버 서버의 특정 파일/서비스 위치           │
└─────────────────────────────────────────────────┘

URI (더 넓은 식별):
┌─────────────────────────────────────────────────┐
│ https://api.example.com/users/12345             │
│ → 12345번 사용자라는 리소스 식별                 │
│                                                 │
│ tel:+82-10-1234-5678                            │
│ → 전화번호 식별 (위치가 아닌 식별자)             │
│                                                 │
│ mailto:admin@naver.com                          │
│ → 이메일 주소 식별                              │
└─────────────────────────────────────────────────┘

일상에서는 대부분 URL을 URI라고 부르는 경우가 많음
```

## URI 표준 구조

그래서 사실 **URI도 기술 표준이 있다**.

```
표준 URI 구조:
URI = scheme ":" ["//"authority] path ["?" query]["#" fragment]
```

근데 사실 **웹에서는 위처럼 모든 걸 기술하지 않는다**.

```
`웹에서 자주 사용되는 URI 형태:
Protocol://Address:Port number/Path(or filename)?Parameter=value&Parameter=value

예시:
http://www.test.co.kr/course.do?md=search&search_keyword=test`

`URI 구성 요소 분석:

https://www.example.com:8080/path/file.html?name=value&key=data#section1
│    │  │              │    │              │                  │
│    │  │              │    │              │                  └─ Fragment (페이지 내 위치)
│    │  │              │    │              └─ Query String (매개변수)
│    │  │              │    └─ Path (경로/파일명)
│    │  │              └─ Port (포트번호, 생략시 기본값)
│    │  └─ Host (호스트명/도메인)
│    └─ Authority (권한 부분)
└─ Scheme (프로토콜)

구성 요소별 설명:
┌─────────────────────────────────────────────────┐
│ Scheme: http, https, ftp, mailto, tel          │
│ Authority: 서버 식별 정보                       │
│ Host: 도메인명 또는 IP 주소                     │
│ Port: 서비스 포트 (HTTP:80, HTTPS:443 기본값)   │
│ Path: 리소스 경로                               │
│ Query: 매개변수 (?key=value&key2=value2)       │
│ Fragment: 페이지 내 특정 위치 (#anchor)         │
└─────────────────────────────────────────────────┘`
```

## 호스트와 리소스 식별

여기서 [**www.test.co.kr**](http://www.test.co.kr/) 이 부분에서 **호스트 한 대를 식별**할 수 있다. 그 **뒤의 나머지들은 어떠한 리소스를 식별하는 것**이 될 수 있다.

이 **뒤 부분을 언급할 때 경로라는 개념**이 나온다. 쉽게 말해 **파일 경로를 생각하면 쉽다**. (ex C:\Program Files...)

그래서 이 **경로라는 개념이 외부로 나가게 되면 이 개념이 확장**된다.

```
로컬 vs 웹 경로 비교:

로컬 파일 시스템:
┌─────────────────────────────────────────────────┐
│ C:\Program Files\MyApp\index.html               │
│ │   │            │      │                      │
│ │   │            │      └─ 파일명               │
│ │   │            └─ 애플리케이션 폴더            │
│ │   └─ 프로그램 설치 폴더                       │
│ └─ 드라이브                                     │
└─────────────────────────────────────────────────┘

웹 경로:
┌─────────────────────────────────────────────────┐
│ https://www.test.co.kr/course/lecture1.html     │
│ │     │              │                         │
│ │     │              └─ 웹 경로 (가상 경로)     │
│ │     └─ 호스트 (서버 식별)                    │
│ └─ 프로토콜                                     │
└─────────────────────────────────────────────────┘
```

## 웹 서버의 경로 매핑

```
실제 서버 구조:

PC ──→ Router ──→ ISP ──→ Internet
                   │
                   ├── Web Server (www.test.co.kr)
                   │   실제 물리 경로: C:\Web Root\data\index.html
                   └── Other ISPs ──→ PCs
```

우리가 주소창에 **[www.test.co.kr**를](http://www.test.co.xn--kr%2A%2A-r616a/) 검색했다고 하면 **이 뒤에 생략된 부분이 있는데 바로 index.html 파일을 달라는 것**이다. 즉 기본적으로는 **가장 첫 페이지를 구성하는 HTML을 수신받겠다는 건데** 실제 이 파일의 물리적 경로는 **C:\Web Root\data\index.html**이라고 가정했을 때 우리는 **주소창에 해당 경로를 전부 쓰지 않는다**.

이는 실제 이 **test.co.kr의 웹서버가 어느 기준점 Root 경로를 설정하고 거기에 상대적인 위치를 표현**하기 때문이다. 그래서 만약에 이 기준이 **Web Root라고 한다면** 우리는 검색창에 **/data/index.html까지 검색해야 해당 파일을 수신**받을 수 있다.

```
웹 서버 경로 매핑:

물리적 파일 시스템:
┌─────────────────────────────────────────────────┐
│ C:\                                             │
│ ├── Web Root\  ← 웹 서버 루트 디렉토리           │
│     ├── index.html                              │
│     ├── data\                                   │
│     │   ├── page1.html                         │
│     │   └── images\                            │
│     │       └── logo.png                       │
│     └── css\                                    │
│         └── style.css                           │
└─────────────────────────────────────────────────┘

웹 URL 매핑:
┌─────────────────────────────────────────────────┐
│ http://www.test.co.kr/                          │
│ → C:\Web Root\index.html                        │
│                                                 │
│ http://www.test.co.kr/data/page1.html           │
│ → C:\Web Root\data\page1.html                   │
│                                                 │
│ http://www.test.co.kr/css/style.css             │
│ → C:\Web Root\css\style.css                     │
└─────────────────────────────────────────────────┘

기본 파일 처리:
┌─────────────────────────────────────────────────┐
│ 사용자 입력: http://www.test.co.kr/             │
│ 서버 해석: http://www.test.co.kr/index.html     │
│                                                 │
│ 다른 예시:                                       │
│ http://www.test.co.kr/data/                     │
│ → http://www.test.co.kr/data/index.html         │
│                                                 │
│ 설정 가능한 기본 파일들:                         │
│ index.html, default.html, home.html            │
└─────────────────────────────────────────────────┘
```

## 실제 웹 서버 동작 과정

```
URL 요청 처리 과정:

1단계: DNS 조회
┌─────────────────────────────────────────────────┐
│ www.test.co.kr → IP 주소 (예: 192.168.1.100)    │
└─────────────────────────────────────────────────┘

2단계: HTTP 요청
┌─────────────────────────────────────────────────┐
│ GET /data/page1.html HTTP/1.1                   │
│ Host: www.test.co.kr                            │
│ User-Agent: Mozilla/5.0...                      │
└─────────────────────────────────────────────────┘

3단계: 서버 경로 해석
┌─────────────────────────────────────────────────┐
│ 웹 경로: /data/page1.html                       │
│ 물리 경로: C:\Web Root\data\page1.html          │
│ 파일 존재 확인 → 200 OK 또는 404 Not Found      │
└─────────────────────────────────────────────────┘

4단계: HTTP 응답
┌─────────────────────────────────────────────────┐
│ HTTP/1.1 200 OK                                 │
│ Content-Type: text/html                         │
│ Content-Length: 1234                            │
│                                                 │
│ <html>...</html>                                │
└─────────────────────────────────────────────────┘
```

이러한 **URL/URI 구조와 웹 서버의 경로 매핑 메커니즘**을 이해하면 **웹 애플리케이션 개발과 서버 설정**에서 중요한 기초 지식을 갖출 수 있습니다.