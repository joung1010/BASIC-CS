## OSI 7 Layer와 식별자

### 계층별 주요 프로토콜 및 기술

```
                                    OSI 7 Layer
                                   ┌─────────────┐
                                   │Application  │ L7 HTTP/HTTPS
                                   │Presentation │ L6 암호화/압축        
User mode                          │Session      │ L5 SSL/TLS
─────────────────────────────────────────────────────────────
Kernel mode    ┌─────┐             │             │
               │ TCP │             │TransPort    │ L4 TCP/UDP
               └─────┘             │             │ 
               ┌─────┐             └─────────────┘
               │ IP  │             ┌─────────────┐
               └─────┘             │Net Work     │ L3 IP/Internet
S/W            Driver              │             │ 
─────────────────────────────────────────────────────────────
H/W            NIC                 │Data Link    │ L2 Ethernet
                                   └─────────────┘ 
                                   ┌─────────────┐
                                   │Physical     │ L1 물리 신호
                                   └─────────────┘
```

**데이터 링크는 우리가 흔히 생각하는 유선 네트워크가 이더넷에 관련되어 있고, 네트워크 계층은 인터넷과 관련이 있습니다. 세션 계층은 SSL(TLS)에 관련되어 있고 7층 HTTP와 HTTPS가 있습니다.**

### 식별자(Identifier)의 개념과 중요성

**식별자란 무엇일까요? 나의 이름, 학교의 학번, 주민등록번호 등과 같이 어떠한 것에 대한 식별의 근거가 되는 정보를 말합니다.**

### 계층별 핵심 식별자

### L2 데이터링크 계층: MAC 주소

**데이터링크 L2 레벨에서의 핵심 식별자는 MAC 주소입니다. 이 MAC 주소가 NIC(Network Interface Card)와 같은 랜카드들을 식별합니다.**

```
MAC 주소 구조: 48비트 (6바이트)
예시: 00:1B:44:11:3A:B7

┌─────────────┬─────────────┐
│ OUI (24bit) │ NIC (24bit) │
│ 제조사 코드  │ 고유 번호   │
└─────────────┴─────────────┘

```

특징:
- 전 세계적으로 유일한 하드웨어 주소
- 제조사에서 할당하여 변경 불가능
- 같은 네트워크 세그먼트 내에서만 유효

### L3 네트워크 계층: IP 주소

**네트워크 계층 L3 레벨에서의 식별자는 IP입니다.**

**그러면 IP 주소는 무엇에 대한 식별자인가 하면 인터넷을 사용하는 컴퓨터입니다. 그래서 host에 대한 식별자입니다.**

```
IPv4 주소 구조: 32비트 (4바이트)
예시: 192.168.1.100

┌────────────┬────────────┐
│ 네트워크   │ 호스트     │
│ 부분       │ 부분       │
└────────────┴────────────┘

```

특징:
- 논리적 주소 (설정 가능)
- 라우팅에 사용
- 전 세계 어디서나 통신 가능
- 서브넷 마스크로 네트워크/호스트 구분

### L4 전송 계층: Port 번호

**전송 계층 L4 레벨에서의 식별자는 Port 번호입니다.**

```
Port 번호 구조: 16비트 (0~65535)

┌─────────────────┬─────────────────┬─────────────────┐
│ Well-known      │ Registered      │ Dynamic/Private │
│ 0~1023          │ 1024~49151      │ 49152~65535     │
│ 시스템 예약     │ 특정 서비스     │ 임시 할당       │
└─────────────────┴─────────────────┴─────────────────┘

```

대표적인 Well-known Ports:
- HTTP: 80
- HTTPS: 443
- FTP: 21
- SSH: 22
- DNS: 53

### Port 번호의 3가지 관점

**그리고 Port 번호는 보통 자신의 업무가 무엇인가에 따라 크게 3가지 정도로 분류됩니다:**

### 1. 물리 계층 종사자: 인터페이스 식별자

**실제 물리 계층에 종사하는 사람들은 인터페이스 식별자(인터페이스는 컴퓨터에서 랜선을 꼽는 단자를 의미)**

```
관점: 하드웨어 포트
예시: "eth0 포트에 문제가 있습니다"
     "USB 포트가 인식되지 않습니다"
```

### 2. 네트워크 계층 종사자: 서비스 식별자

**네트워크 계층에 종사하는 사람들은 서비스 식별자(웹 서비스나 특정 서비스를 개방하려면 해당 포트번호가 필요)**

```
관점: 네트워크 서비스
예시: "웹서버는 80번 포트로 서비스"
     "방화벽에서 443번 포트 열기"
```

### 3. 소프트웨어 개발자: 프로세스 식별자

**프로그램을 관리하거나 소프트웨어를 개발하는 사람들은 프로세스 식별자라고 합니다**

```
관점: 애플리케이션 프로세스
예시: "Chrome이 8080 포트 사용중"
     "Node.js 서버가 3000번 포트 리스닝"
```

### MAC 주소 확인 명령어

**윈도우 기준 `ipconfig/all` 명령어에서 물리적 주소가 MAC 어드레스입니다.리눅스는 `ifconfig`입니다.**

```
Windows:
C:\> ipconfig /all
물리적 주소 . . . . . . . . : 00-1B-44-11-3A-B7

Linux/Mac:
$ ifconfig
ether 00:1b:44:11:3a:b7
```

## DoD (Department of Defense) 모델

### DoD 4계층 구조

```
                                    DoD 모델
                                   ┌─────────────┐
                                   │Application  │ L7+L6+L5 통합
                                   │             │ (HTTP, FTP, SMTP)
User mode                          │             │ 
─────────────────────────────────────────────────────────────
Kernel mode    ┌─────┐             │ Host        │
               │ TCP │             │  to         │ L4 전송계층
               └─────┘             │ Host        │ (TCP, UDP)
               ┌─────┐             └─────────────┘
               │ IP  │             ┌─────────────┐
               └─────┘             │Internet     │ L3 인터넷계층
S/W            Driver              │             │ (IP, ICMP, ARP)
─────────────────────────────────────────────────────────────
H/W            NIC                 │ Network     │ 
                                   │  Access     │ L1+L2 네트워크
                                   └─────────────┘  접근계층
```

### DoD 모델의 특징

### Application Layer (응용 계층)

OSI의 L7, L6, L5를 하나로 통합

- **HTTP/HTTPS**: 웹 서비스
- **FTP**: 파일 전송
- **SMTP**: 이메일 전송
- **DNS**: 도메인 이름 해석

### Host-to-Host Layer (호스트간 계층)

OSI의 L4 전송계층과 동일

- **TCP**: 신뢰성 있는 연결지향 통신
- **UDP**: 빠른 비연결지향 통신

### Internet Layer (인터넷 계층)

OSI의 L3 네트워크계층과 동일

- **IP**: 패킷 라우팅
- **ICMP**: 오류 메시지
- **ARP**: IP-MAC 주소 변환

### Network Access Layer (네트워크 접근 계층)

OSI의 L1, L2를 하나로 통합

- **이더넷**: 유선 LAN 프로토콜
- **Wi-Fi**: 무선 LAN 프로토콜
- **물리적 신호 처리**

### 실제 구현 관점에서의 이해

**그래서 소위 액세스단 네트워크 계층이라는 말은 H/W적 관점을 말합니다.**

```
네트워크 엔지니어의 실무 분야:

Application 개발자
├─ 웹 개발자: HTTP/HTTPS 프로토콜
├─ API 개발자: REST, GraphQL
└─ 보안 개발자: SSL/TLS 암호화

Network 엔지니어  
├─ 상위: 라우터, 스위치 설정 (L3)
├─ 중간: 방화벽, 로드밸런서 (L4)
└─ 하위: 케이블링, NIC 교체 (L1/L2)

System 관리자
├─ 서버 관리: 포트 설정, 서비스 관리
├─ 모니터링: 트래픽 분석, 성능 튜닝  
└─ 문제 해결: 계층별 트러블슈팅
```

이처럼 **각 계층마다 고유한 식별자와 책임 영역이 있으며, 실무에서는 DoD 모델이 더 실용적으로 사용**되는 이유는 **실제 TCP/IP 구현 구조와 더 밀접하게 연관**되어 있기 때문입니다.