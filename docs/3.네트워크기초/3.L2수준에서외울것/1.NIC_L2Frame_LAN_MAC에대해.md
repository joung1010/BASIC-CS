## L2 수준에서 외워야 할 것들

### NIC, L2 Frame, LAN 그리고 MAC

### NIC (Network Interface Card)의 기본 이해

**NIC 닉(Network Interface Card)는 흔히 LAN(Local Area Network) 카드입니다.**

**그래서 Host는 네트워크에 연결된 컴퓨터인데 이를 표현할 때 컴퓨터를 네모 박스로 NIC를 진한 점으로 연결됨을 선으로 표현합니다.**

```
단일 NIC을 가진 PC:
┌─────────┐
│   PC    │
│        ●─────── (NIC 1개)
└─────────┘

다중 NIC을 가진 PC:
┌─────────┐
│   PC    │
│        ●─────── (유선 LAN)
│        ●─────── (무선 LAN)  
└─────────┘
```

**그래서 위 그림에 점이 2개라면 NIC가 2개 있는 경우를 말합니다. 이러한 경우는 굉장히 흔한데 우리가 노트북만 봐도 무선 랜 카드, 유선 랜 카드를 생각하면 이해하기 쉽습니다.**

### 다중 NIC의 실제 활용 사례

```
일반 사용자 기기:
┌──────────────────────┐
│ 노트북               │
│ ● 유선 이더넷 (1Gbps)│ ← 안정적 연결
│ ● 무선 Wi-Fi (300Mbps)│ ← 이동성
│ ● 블루투스           │ ← 주변 기기 연결
└──────────────────────┘

서버급 장비:
┌──────────────────────┐
│ 서버                 │
│ ● NIC1 (관리용)      │ ← 원격 관리 전용
│ ● NIC2 (서비스용)    │ ← 일반 트래픽
│ ● NIC3 (백업용)      │ ← 이중화 구성
│ ● NIC4 (스토리지용)  │ ← 고속 스토리지 연결
└──────────────────────┘
```

**유/무선 NIC이 있지만 굳이 구별하지 않고 모두 NIC이라고 할 때가 많습니다.**

### 네트워크 규모 분류: LAN, MAN, WAN

**그러면 LAN은 무엇인가 하면 네트워크의 규모를 말할 때 사용합니다.**

**가장 큰 범위가 WAN(Wide Area Network) 그다음으로 MAN(Metropolitan Area Network) 가장 작은 단위인 LAN이 있습니다.**

### 네트워크 규모별 특성

```
네트워크 규모 계층구조:

WAN (Wide Area Network) - 광역망
├─ 범위: 국가간, 대륙간 연결
├─ 예시: 인터넷, 국제 전용선
├─ 기술: 위성, 해저케이블, 백본망
└─ 특징: 높은 지연시간, 넓은 커버리지

MAN (Metropolitan Area Network) - 도시망  
├─ 범위: 도시 전체, 대학 캠퍼스
├─ 예시: 시청 전산망, 대학 네트워크
├─ 기술: 광섬유, 마이크로웨이브
└─ 특징: 중간 지연시간, 도시 규모

LAN (Local Area Network) - 근거리망
├─ 범위: 건물 내부, 사무실, 집
├─ 예시: 회사 사내망, 가정용 공유기망
├─ 기술: 이더넷, Wi-Fi
└─ 특징: 낮은 지연시간, 고속 통신
```

### LAN의 구체적 구성 사례

**흔히 공유기에 PC, 스마트폰, IPTV 수신기 등 이 모든 기기들이 공유기를 통해 하나의 망에 연결됩니다. 이를 LAN이라고 생각하면 됩니다.**

```
가정용 LAN 구성:
                공유기
                  │
    ┌─────────────┼─────────────┐
    │             │             │
┌───▼───┐    ┌───▼───┐    ┌───▼───┐
│  PC   │    │스마트폰│    │ IPTV  │
│   ●   │    │   ●   │    │   ●   │
└───────┘    └───────┘    └───────┘
유선 연결     무선 연결     유선 연결

특징:
- 같은 IP 대역 사용 (192.168.1.x)
- 빠른 속도 (지연시간 < 1ms)
- 관리자 통제 가능
```

### MAC 주소와 하드웨어 식별

**NIC은 H/W이며 MAC(Media Access Control) 주소를 갖습니다. 하드웨어 주소, 피지컬 어드레스라고 하는 것은 하드웨어 NIC에 부여됩니다.**

### MAC 주소의 구조와 특성

```
MAC 주소 구조 (48비트 = 6바이트):

00:1B:44:11:3A:B7
│  │  │  │  │  │
│  │  │  └──┴──┴── 개별 식별자 (24비트)
└──┴──┴───────── OUI (24비트) - 제조사 코드

실제 제조사 예시:
- 00:1B:44:xx:xx:xx → Cisco Systems
- 00:50:56:xx:xx:xx → VMware  
- 08:00:27:xx:xx:xx → VirtualBox
- 52:54:00:xx:xx:xx → QEMU/KVM

특징:
✓ 전 세계적으로 유일함 (이론적으로)
✓ 하드웨어 제조시 할당
✓ 변경 불가능 (소프트웨어로 위조 가능하지만)
✓ 동일 네트워크 세그먼트에서만 유효
```

### L2 Frame과 데이터 단위

**앞서 네트워크를 설명할 때 사용한 단위인 패킷은 인터넷에서 사용하는 단위이고 이 L2 수준에서 사용하는 단위가 바로 프레임입니다.**

### 이더넷 프레임 구조와 크기

**우리가 흔히 유선이라고 말하는 이 이더넷 네트워크에서는 L2 Frame 데이터라고 해서 단위가 있고 이 크기가 1514바이트 정도밖에 안 됩니다. 그래서 점보 Frame의 크기는 10KB 정도 됩니다.**

```
표준 이더넷 프레임 구조 (1518바이트):

┌─────┬─────┬─────┬──────┬─────┐
│ DA  │ SA  │Type │Payload│ FCS │
│6byte│6byte│2byte│46-1500│4byte│
└─────┴─────┴─────┴──────┴─────┘

- DA (Destination Address): 목적지 MAC 주소
- SA (Source Address): 출발지 MAC 주소  
- Type: 상위 프로토콜 정보 (IPv4, IPv6 등)
- Payload: 실제 데이터 (46~1500바이트)
- FCS (Frame Check Sequence): 오류 검출용

프레임 크기 종류:
┌─────────────────────────────────────┐
│ 표준 프레임: 64~1518바이트          │
│ • 최소: 64바이트 (충돌 감지용)      │
│ • 최대: 1518바이트 (MTU 1500 + 헤더)│
│                                     │
│ 점보 프레임: ~9000바이트            │
│ • 고성능 네트워크에서 사용          │
│ • 서버-서버 간 대용량 전송          │
│ • 모든 장비가 지원해야 동작         │
└─────────────────────────────────────┘
```

### 네트워크 속도와 단위

**이때 속도를 말할 때 1Gbps 이때 b가 소문자면 bit 대문자 B면 이때는 byte입니다. 그래서 요즘 유선랜 전송 속도가 평균적으로 1Gbps 정도입니다.**

### 속도 단위의 정확한 이해

```
비트(bit)와 바이트(Byte) 관계:
1 Byte = 8 bit

네트워크 속도 표기:
- bps (bit per second): 비트/초
- Bps (Byte per second): 바이트/초

속도 환산:
1 Gbps = 1,000,000,000 bps
1 Gbps = 125,000,000 Bps = 125 MBps

실제 처리량 계산:
1Gbps 네트워크에서 1GB 파일 전송시간
= 1,000,000,000 byte ÷ 125,000,000 Bps
= 8초 (이론적, 오버헤드 제외)
```

### 일반적인 네트워크 속도 비교

```
네트워크 기술별 속도:

유선 이더넷:
├─ Fast Ethernet: 100 Mbps
├─ Gigabit Ethernet: 1 Gbps ← 현재 표준
├─ 10 Gigabit Ethernet: 10 Gbps
└─ 100 Gigabit Ethernet: 100 Gbps (데이터센터)

무선 Wi-Fi:
├─ 802.11n (Wi-Fi 4): ~300 Mbps
├─ 802.11ac (Wi-Fi 5): ~1 Gbps  
├─ 802.11ax (Wi-Fi 6): ~9 Gbps
└─ 802.11be (Wi-Fi 7): ~46 Gbps (최신)

실제 vs 이론 속도:
┌─────────────────────────────────────┐
│ 이론속도의 60-80%가 실제 처리량     │
│                                     │
│ 1Gbps 연결 → 실제 600-800Mbps      │
│ • 프로토콜 오버헤드               │
│ • 네트워크 혼잡                   │
│ • 하드웨어 성능 제약              │
└─────────────────────────────────────┘
```

### 속도 측정 시 주의사항

```
속도 테스트 해석:
인터넷 속도 측정 사이트에서
"다운로드: 800 Mbps" 표시

실제 파일 다운로드 속도:
800 Mbps ÷ 8 = 100 MBps (메가바이트/초)

따라서:
- 1GB 파일 → 약 10초 소요
- 100MB 파일 → 약 1초 소요

ISP 광고 vs 현실:
"기가 인터넷 (1Gbps)" 상품
→ 최대 이론 속도
→ 실제로는 여러 요인으로 인해 더 낮음
```

이렇게 **L2 계층에서는 MAC 주소를 통한 하드웨어 식별과 프레임 단위의 데이터 전송**이 핵심이며, **실제 네트워크 성능을 이해하려면 비트와 바이트 단위를 정확히 구분**하는 것이 중요합니다.