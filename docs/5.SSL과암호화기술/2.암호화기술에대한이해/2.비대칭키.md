## 암호화 방식의 분류 - 비대칭키(Asymmetric Key)

**비대칭키의 기본 구조**

**비대칭키는 기본적으로 키가 2개이다. 한 쌍의 키가 서로 상호작용하는 구조를 갖는다. 이때 상호작용하는 키 2개 중에 하나를 외부에 공개하는 키가 있는데 이 키를 Public Key라고 한다. 외부에 공개하지 않고 나만 알고 있는 키를 Private Key라고 한다.**

```
🔐 비대칭키 시스템 구조

키 쌍의 관계:
┌─────────────────────────────────┐
│        한 쌍의 키               │
│                                │
│ 🔓 Public Key (공개키)         │
│ • 누구나 알 수 있음            │
│ • 인터넷에 공개 가능           │
│ • 암호화 또는 서명 검증용      │
│                                │
│ 🔒 Private Key (개인키)        │
│ • 소유자만 알고 있음           │
│ • 절대 공개하면 안 됨          │
│ • 복호화 또는 서명 생성용      │
└─────────────────────────────────┘

상호작용 원리:
Public Key로 암호화 → Private Key로 복호화
Private Key로 서명 → Public Key로 검증
```

**두 키 중 하나로 암호화하면 쌍을 이루는 다른 키로 복호화한다. 만약 Public Key로 암호화를 한다고 하면 이와 쌍을 이루는 Private Key로 복호화해야 한다.**

**PKI (Public Key Infrastructure)**

**즉, 비대칭키 체계는 키가 한 쌍으로 존재하고 그 중 하나로 암호화를 하면 다른 하나의 키로 이를 푼다. 근데 보통 바깥에 공개하면 public, 안 하면 private라고 한다. 그래서 이러한 키 체계를 PKI(Public Key Infrastructure)라고 한다.**

```
🏗️ PKI (Public Key Infrastructure) 생태계

구성 요소:
┌─────────────────────────────────┐
│1️⃣ 인증기관 (CA: Certificate Authority)│
│ • 디지털 인증서 발급           │
│ • 공개키의 신뢰성 보장         │
│ • VeriSign, Let's Encrypt 등   │
│                                │
│2️⃣ 등록기관 (RA: Registration Authority)│
│ • 인증서 신청 접수 및 심사     │
│ • 신원 확인 절차 수행          │
│                                │
│3️⃣ 디지털 인증서               │
│ • 공개키 + 소유자 정보 + CA 서명│
│ • X.509 표준 형식              │
│                                │
│4️⃣ 인증서 저장소               │
│ • LDAP 디렉터리 서비스         │
│ • 공개키 배포 및 관리          │
└─────────────────────────────────┘
```

**대표적인 알고리즘으로 RSA-2048, ECC가 있다.**

**RSA 암호화의 수학적 원리**

메모의 RSA 예시를 통해 비대칭키 암호화 원리를 살펴보겠습니다:

```
🧮 RSA 암호화 실례

주어진 값:
A    나머지 연산
65^5  mod 323 = 12 
12^29 mod 323 = 65

평문 숫자: 65 (대문자 A)
암호화 키: 5 (공개키)
복호화 키: 29 (개인키)
모듈러스: 323
```

**이때 5를 public Key, 29를 private Key라고 가정해보자.**

**65라는 숫자를 5제곱을 한다.(65를 public Key를 이용해서 암호화한다) 그러면 1160290625 해당 값이 나오고 이를 323을 가지고 나머지 연산을 하면 12라는 값이 나온다.**

```
🔢 RSA 암호화 과정

1단계: 평문을 공개키로 암호화
평문: 65 (ASCII 'A')
암호화: 65^5 = 1,160,290,625
모듈러 연산: 1,160,290,625 mod 323 = 12
암호문: 12

2단계: 암호문을 개인키로 복호화  
암호문: 12
복호화: 12^29 = 매우 큰 수 (약 1.97 × 10^31)
모듈러 연산: (매우 큰 수) mod 323 = 65
평문 복구: 65 (ASCII 'A')

수식 표현:
암호화: C = M^e mod n (M=65, e=5, n=323)
복호화: M = C^d mod n (C=12, d=29, n=323)
```

**RSA의 수학적 기반에 대한 보정**

메모에서 "**5나 323이나 둘 다 소수이다**"라고 했는데, 이는 수학적으로 정확하지 않습니다:

```
🔍 수학적 사실 확인

메모의 설명: "5나 323이나 둘다 소수"
실제 확인:
┌─────────────────────────────────┐
│5: 소수 ✅ (1, 5로만 나누어짐)   │
│                                │
│323: 소수 아님 ❌               │
│323 = 17 × 19                   │
│17과 19는 모두 소수             │
└─────────────────────────────────┘

RSA의 실제 수학적 원리:
┌─────────────────────────────────┐
│1. 두 개의 큰 소수 선택: p, q    │
│2. 모듈러스 계산: n = p × q      │
│3. 오일러 파이 함수: φ(n) = (p-1)(q-1)│
│4. 공개키 지수 e 선택 (φ(n)과 서로소)│
│5. 개인키 지수 d 계산 (e×d ≡ 1 mod φ(n))│
│                                │
│위 예시에서:                    │
│p = 17, q = 19, n = 323         │
│φ(323) = 16 × 18 = 288          │
│e = 5, d = 29                   │
└─────────────────────────────────┘
```

**큰 수와 보안성**

**즉, 아주 큰 수는 경우의 수가 아주 크다는 말이다. 즉 이렇게 큰 수가 어떤 값들의 조합해서 해당 값이 나왔는지 역추적하기가 매우 힘들다.**

```
🔐 RSA 보안성의 근거

소인수분해 문제 (Integer Factorization):
┌─────────────────────────────────┐
│쉬운 방향: 17 × 19 = 323        │
│어려운 방향: 323 = ? × ?        │
│                                │
│실제 RSA에서:                   │
│• RSA-2048: 617자리 10진수      │
│• 두 개의 큰 소수의 곱          │
│• 현재 기술로 분해 불가능       │
└─────────────────────────────────┘

키 크기별 보안 강도:
┌─────────────────────────────────┐
│RSA-1024: 2010년경 취약점 발견  │
│RSA-2048: 현재 표준 (2030년까지)│
│RSA-3072: 장기 보안용           │
│RSA-4096: 최고 보안 수준        │
│                                │
│문제: 키가 클수록 성능 급격 저하 │
└─────────────────────────────────┘
```

**양자 컴퓨터의 위협**

**만약에 12^X mod 323 = 65에 대한 X를 찾으면 암호화 체계를 무력화할 수 있다.(양자 컴퓨터) 그래서 만약 양자 컴퓨터가 보편화되면 지금 현대 암호문들은 쉽게 풀어낼 수 있을 것이다.**

```
⚛️ 양자 컴퓨터 위협 분석

Shor's Algorithm (1994):
┌─────────────────────────────────┐
│양자 컴퓨터에서 실행 가능한 알고리즘│
│• 소인수분해: 다항 시간 해결    │
│• 이산 로그: 다항 시간 해결     │
│                                │
│현재 RSA 파괴 가능성:           │
│• RSA-2048: 4,099 큐비트 필요   │
│• 현재 최대: 수백 큐비트 수준   │
│• 상용화까지 10-20년 예상       │
└─────────────────────────────────┘

대응 방안 (Post-Quantum Cryptography):
┌─────────────────────────────────┐
│NIST 포스트 양자 표준화 (2024):  │
│• CRYSTALS-Kyber (키 교환)      │
│• CRYSTALS-Dilithium (디지털서명)│
│• FALCON (디지털서명)           │
│• SPHINCS+ (디지털서명)         │
│                                │
│새로운 수학 문제 기반:          │
│• 격자 문제 (Lattice)           │
│• 코드 기반 암호                │
│• 다변수 암호                   │
└─────────────────────────────────┘
```

### 정보의 유효기간과 보안

**하지만 모든 보안은 이 기밀을 보호하기 위해서 존재하는데 당연히 이 기밀에도 유효기한이 존재한다. 그래서 이 유효기간 동안만 정보를 잘 지키고 방어하면 된다.**

```
⏰ 정보 보안의 시간적 관점

정보의 생애주기:
┌─────────────────────────────────┐
│1️⃣ 생성/수집 단계               │
│• 최고 기밀성 요구              │
│• 강력한 암호화 필요            │
│                                │
│2️⃣ 활용 단계                   │
│• 지속적 보안 관리              │
│• 접근 권한 통제                │
│                                │
│3️⃣ 보관/아카이브 단계          │
│• 장기 보안 고려                │
│• 암호화 업그레이드 필요        │
│                                │
│4️⃣ 폐기 단계                   │
│• 완전 삭제 또는 공개          │
│• 보안 가치 상실                │
└─────────────────────────────────┘

정보별 유효기간 예시:
┌─────────────────────────────────┐
│• 군사 기밀: 10-50년            │
│• 기업 기밀: 3-10년             │
│• 개인 정보: 평생 또는 사후까지  │
│• 금융 정보: 5-7년              │
│• 의료 정보: 평생               │
└─────────────────────────────────┘
```

### 블록체인과 암호화의 관계에 대한 보정

**이 암호화 이야기를 하면 코인과 연관성이 있는데... 코인의 본질은 비대칭키이다.**

메모의 설명을 보정하면, 블록체인과 암호화의 관계는 다음과 같습니다:

```
⛓️ 블록체인에서 암호화 기술 활용

실제 활용 분야:
┌─────────────────────────────────┐
│1️⃣ 해시 함수                    │
│• 블록 연결 (체인 무결성)       │
│• 머클 트리 (거래 검증)         │
│• 작업 증명 (마이닝)            │
│                                │
│2️⃣ 디지털 서명 (비대칭키 활용)  │
│• 거래 인증 (소유권 증명)       │
│• 지갑 주소 생성                │
│• 부인 방지                     │
│                                │
│3️⃣ 대칭키는 직접 사용 안함      │
│• 블록체인 자체는 투명성 중시   │
│• 개인정보 보호시에만 별도 사용  │
└─────────────────────────────────┘

코인의 본질 재정의:
┌─────────────────────────────────┐
│코인의 본질 = 디지털 서명 + 해시 │
│• 비대칭키로 소유권 증명        │
│• 해시로 거래 무결성 보장       │
│• 분산 합의로 이중 지불 방지    │
│                                │
│보상 체계:                      │
│• 네트워크 유지 비용 보상       │
│• 컴퓨팅 자원 제공 대가         │
│• 경제적 인센티브 설계          │
└─────────────────────────────────┘
```

### 대칭키 vs 비대칭키 성능 비교

**다시 한번 언급하자면 둘 중 대칭키가 효율이 더 좋다. 예를 들어 AES-128과 RSA-2048과 비교했을 때 딱 봐도 RSA보다 AES의 길이가 훨씬 짧다. 근데 성능을 비교하면 둘이 엇비슷하다.**

이 부분은 정확하지 않습니다. 실제 성능 차이를 정리하면:

```
⚡ 실제 성능 비교 (정정된 내용)

처리 속도 비교:
┌─────────────────────────────────┐
│AES-256 (대칭키):               │
│• 소프트웨어: 수백 MB/s         │
│• 하드웨어: 수십 GB/s           │
│                                │
│RSA-2048 (비대칭키):            │
│• 암호화: 수백 KB/s             │
│• 복호화: 수십 KB/s             │
│                                │
│성능 차이: 1000배 이상!         │
│결론: 대칭키가 압도적으로 빠름  │
└─────────────────────────────────┘

보안 강도 비교:
┌─────────────────────────────────┐
│AES-128: 2^128 경우의 수        │
│RSA-2048: 2^112 상당 보안 강도  │
│                                │
│AES-256: 2^256 경우의 수        │
│RSA-4096: 2^140 상당 보안 강도  │
│                                │
│결론: 동등한 보안 수준에서도    │
│      대칭키가 훨씬 효율적      │
└─────────────────────────────────┘
```

### 모바일 환경에서의 고려사항

**여기서 주목할 점은 PC를 사용하면 어느 키를 쓰든 상관없는데 만약에 모바일기기인 경우 암호화를 할 때마다 CPU를 많이 사용하게 된다. 그러면 결국 에너지를 많이 사용하게 되고 이는 배터리 사용 시간과 연결된다.**

```
📱 모바일 환경에서의 암호화 고려사항

배터리 영향 분석:
┌─────────────────────────────────┐
│대칭키 (AES):                   │
│• 전력 소모: 낮음              │
│• CPU 사용률: 5-10%             │
│• 배터리 영향: 미미             │
│                                │
│비대칭키 (RSA):                 │
│• 전력 소모: 높음              │
│• CPU 사용률: 50-90%            │
│• 배터리 영향: 상당함           │
│                                │
│실제 측정 예시 (1MB 암호화):    │
│AES: 10ms, 0.1% 배터리 소모     │
│RSA: 30초, 5% 배터리 소모       │
└─────────────────────────────────┘

모바일 최적화 전략:
┌─────────────────────────────────┐
│1️⃣ 하이브리드 암호화 사용       │
│• RSA로 AES 키 교환 (1회)       │
│• AES로 실제 데이터 암호화      │
│                                │
│2️⃣ ECC (타원곡선) 사용         │
│• RSA 대비 짧은 키 길이         │
│• 동등한 보안 수준              │
│• 모바일 최적화                 │
│                                │
│3️⃣ 하드웨어 가속 활용          │
│• ARM TrustZone               │
│• 전용 암호화 칩 사용           │
└─────────────────────────────────┘
```

비대칭키 암호화는 **키 분배 문제를 해결**하는 혁신적인 기술이지만, **성능상의 한계**로 인해 실제로는 **하이브리드 방식**으로 대칭키와 함께 사용되는 것이 일반적입니다. 특히 **SSL/TLS에서는 RSA나 ECC로 세션키를 안전하게 교환한 후, AES로 실제 데이터를 암호화**하는 방식을 사용합니다.