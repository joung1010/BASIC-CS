## ê³µìœ  ìì›ê³¼ ì„ê³„ êµ¬ì—­

### Race Condition(ê²½ìŸ ì¡°ê±´)ì˜ ë°œìƒ ì›ì¸

**í”„ë¡œì„¸ìŠ¤ì™€ ìŠ¤ë ˆë“œ ëª¨ë‘ ì—¬ëŸ¬ ê°œê°€ ì¡´ì¬í–ˆì„ ë•Œ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì´ìœ ëŠ” í•­ìƒ ë™ì‹œì— íŠ¹ì • í•œ ëŒ€ìƒì— ì ‘ê·¼í–ˆì„ ë•Œ í•„ì—°ì ìœ¼ë¡œ ê²½ìŸ ì¡°ê±´ì´ ë°œìƒ**í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

```
ì€í–‰ ê³„ì¢Œ ì˜ˆê¸ˆ ë¬¸ì œ ì‹œë‚˜ë¦¬ì˜¤

ì´ˆê¸° ìƒíƒœ: ì˜ˆê¸ˆ 10ë§Œì›

âŒ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì‹¤í–‰ ìˆœì„œ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‹œê°„  â”‚  í”„ë¡œì„¸ìŠ¤ A             â”‚  í”„ë¡œì„¸ìŠ¤ B        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  T1    â”‚ ì˜ˆê¸ˆ 10ë§Œì› í™•ì¸        â”‚                   â”‚
â”‚  T2    â”‚                        â”‚ ì˜ˆê¸ˆ 10ë§Œì› í™•ì¸   â”‚
â”‚  T3    â”‚                        â”‚ 5ë§Œì› ì…ê¸ˆ ê³„ì‚°    â”‚
â”‚  T4    â”‚                        â”‚ 15ë§Œì› ì €ì¥       â”‚
â”‚  T5    â”‚ 10ë§Œì› ì…ê¸ˆ ê³„ì‚°        â”‚                   â”‚
â”‚  T6    â”‚ 20ë§Œì› ì €ì¥ (ë®ì–´ì”€!)   â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’° ê²°ê³¼: ì˜ˆìƒê°’ 25ë§Œì› â†’ ì‹¤ì œê°’ 20ë§Œì› (5ë§Œì› ì†ì‹¤!)

âœ… ì˜¬ë°”ë¥¸ ì‹¤í–‰ ìˆœì„œ (ìˆœì°¨ ì²˜ë¦¬):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‹œê°„  â”‚  í”„ë¡œì„¸ìŠ¤ A             â”‚  í”„ë¡œì„¸ìŠ¤ B        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  T1    â”‚ ì˜ˆê¸ˆ 10ë§Œì› í™•ì¸        â”‚   ğŸ”’ ëŒ€ê¸° ì¤‘       â”‚
â”‚  T2    â”‚ 10ë§Œì› ì…ê¸ˆ ê³„ì‚°        â”‚   ğŸ”’ ëŒ€ê¸° ì¤‘       â”‚
â”‚  T3    â”‚ 20ë§Œì› ì €ì¥             â”‚   ğŸ”’ ëŒ€ê¸° ì¤‘       â”‚
â”‚  T4    â”‚ ğŸ”“ ì‘ì—… ì™„ë£Œ            â”‚ ì˜ˆê¸ˆ 20ë§Œì› í™•ì¸   â”‚
â”‚  T5    â”‚                        â”‚ 5ë§Œì› ì…ê¸ˆ ê³„ì‚°    â”‚
â”‚  T6    â”‚                        â”‚ 25ë§Œì› ì €ì¥       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’° ê²°ê³¼: ì˜ˆìƒê°’ 25ë§Œì› â†’ ì‹¤ì œê°’ 25ë§Œì› (ì •í™•!)
```

### ë¹„ì›ìì  ì—°ì‚°ì˜ ìœ„í—˜ì„±

**ìš°ë¦¬ê°€ í•œ ì¤„ì˜ ì½”ë“œê°€ í•œ ë²ˆì˜ ëª…ë ¹ì–´ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ”ì§€ ìƒê°í•´ë´ì•¼ í•©ë‹ˆë‹¤**.

**ì½”ë“œì—ì„œ ë‹¨ìˆœíˆ ì˜ˆê¸ˆì„ í™•ì¸í•˜ê³  ê·¸ ì˜ˆê¸ˆì— ì›í•˜ëŠ” ê¸ˆì•¡ì„ ë”í•´ì„œ ì €ì¥í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ í•œ ì¤„ì˜ ì½”ë“œê°€ ì‹¤ì œë¡œëŠ” ë©”ëª¨ë¦¬ì—ì„œ ê°’ì„ ì½ê³  ê·¸ ê°’ì„ ë‹¤ë¥¸ ê°’ìœ¼ë¡œ ë®ì–´ì“°ê³  ë‹¤ì‹œ ì €ì¥í•œë‹¤ì™€ ê°™ì´ í•œ ì¤„ì˜ ì½”ë“œë„ ìµœì†Œ 3ë²ˆ ì´ìƒì˜ ëª…ë ¹ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤**.

```
ê³ ìˆ˜ì¤€ ì½”ë“œ vs ì €ìˆ˜ì¤€ ëª…ë ¹ì–´

Java ì½”ë“œ (í•œ ì¤„):
balance += depositAmount;

ì‹¤ì œ CPU ëª…ë ¹ì–´ (ìµœì†Œ 3ë‹¨ê³„):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1ï¸âƒ£ LOAD R1, [balance_address]                     â”‚
â”‚     ë©”ëª¨ë¦¬ì—ì„œ í˜„ì¬ ì”ì•¡ì„ ë ˆì§€ìŠ¤í„° R1ì— ë¡œë“œ        â”‚
â”‚     CPU ì‚¬ì´í´: 100~300 (RAM ì ‘ê·¼ ì‹œê°„)             â”‚
â”‚                                                     â”‚
â”‚  2ï¸âƒ£ ADD R1, R1, depositAmount                      â”‚
â”‚     R1 = R1 + depositAmount (ë ˆì§€ìŠ¤í„° ë‚´ ì—°ì‚°)      â”‚
â”‚     CPU ì‚¬ì´í´: 1 (ë§¤ìš° ë¹ ë¦„)                       â”‚
â”‚                                                     â”‚
â”‚  3ï¸âƒ£ STORE [balance_address], R1                    â”‚
â”‚     ê³„ì‚°ëœ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ë©”ëª¨ë¦¬ì— ì €ì¥                â”‚
â”‚     CPU ì‚¬ì´í´: 100~300 (RAM ì ‘ê·¼ ì‹œê°„)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âš ï¸ ìœ„í—˜ ì§€ì : ê° ë‹¨ê³„ ì‚¬ì´ì— ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ë¼ì–´ë“¤ ìˆ˜ ìˆìŒ!

ì‹œë‚˜ë¦¬ì˜¤: ë‘ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— balance += 1000 ì‹¤í–‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‹œê°„  â”‚ ìŠ¤ë ˆë“œ A        â”‚ ìŠ¤ë ˆë“œ B        â”‚ balance â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  T1    â”‚LOAD R1,[bal]   â”‚                â”‚ 10000  â”‚
â”‚        â”‚R1 = 10000      â”‚                â”‚        â”‚
â”‚  T2    â”‚                â”‚LOAD R2,[bal]   â”‚ 10000  â”‚
â”‚        â”‚                â”‚R2 = 10000      â”‚        â”‚
â”‚  T3    â”‚ADD R1,1000     â”‚                â”‚ 10000  â”‚
â”‚        â”‚R1 = 11000      â”‚                â”‚        â”‚
â”‚  T4    â”‚                â”‚ADD R2,1000     â”‚ 10000  â”‚
â”‚        â”‚                â”‚R2 = 11000      â”‚        â”‚
â”‚  T5    â”‚STORE [bal],R1  â”‚                â”‚ 11000  â”‚
â”‚  T6    â”‚                â”‚STORE [bal],R2  â”‚ 11000  â”‚â† ë®ì–´ì”€!
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê²°ê³¼: 20000ì´ ë˜ì–´ì•¼ í•˜ëŠ”ë° 11000ì´ ë¨!
```

### ì›ìì„±(Atomicity)ê³¼ ì»´íŒŒì¼ëŸ¬ ìµœì í™”

**ìš°ë¦¬ê°€ ì‘ì„±í•œ ì´ ì½”ë“œê°€ ëª…ë ¹ í•œ ë²ˆì— ì²˜ë¦¬ëœë‹¤ëŠ” ë³´ì¥í•  ìˆ˜ ìˆëŠëƒ ì¦‰, ìš°ë¦¬ê°€ ì‘ì„±í•œ ì½”ë“œê°€ ì›ìì„±ì´ ë³´ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì¤‘ê°„ì— ë‹¤ë¥¸ ì²˜ë¦¬ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤ëŠ” ë§ê³¼ ê°™ìŠµë‹ˆë‹¤**. **ë˜í•œ ì‹¤ì œ ì‘ì„±ëœ ì½”ë“œë„ ì»´íŒŒì¼ ì‹œ ìµœì í™”ë¥¼ í†µí•´ ì‹¤ì œ ì‹¤í–‰ ìˆœì„œì— ì•½ê°„ì˜ ì°¨ì´ê°€ ì¡´ì¬í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤**.

ì»´íŒŒì¼ëŸ¬ ìµœì í™”ì˜ ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼:

```java

// **ì›ë³¸ ì½”ë“œ:**

int flag = 0;
int data = 0;

void producer() {
    data = 42;        // 1. ë°ì´í„° ë¨¼ì € ì„¤ì •
    flag = 1;         // 2. í”Œë˜ê·¸ë¡œ ì™„ë£Œ ì‹ í˜¸
}

void consumer() {
    while (flag == 0) {
        // í”Œë˜ê·¸ê°€ ì„¤ì •ë  ë•Œê¹Œì§€ ëŒ€ê¸°
    }
    printf("Data: %d\n", data);  // 3. ë°ì´í„° ì½ê¸°
}

//ì»´íŒŒì¼ëŸ¬ ìµœì í™” í›„ (ê°€ëŠ¥í•œ ê²°ê³¼):
void producer() {
    flag = 1;         // âš ï¸ ìˆœì„œ ë°”ë€œ!
    data = 42;        // ì»´íŒŒì¼ëŸ¬ê°€ ì„±ëŠ¥ìƒ ì´ìœ ë¡œ ì¬ë°°ì—´
}
```

```
ë¬¸ì œ ìƒí™©:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  T1: Producerê°€ flag = 1 ì‹¤í–‰                       â”‚
â”‚  T2: Consumerê°€ flag == 1 í™•ì¸í•˜ê³  ë£¨í”„ íƒˆì¶œ        â”‚
â”‚  T3: Consumerê°€ data ì½ê¸° â†’ ì•„ì§ 42ê°€ ì•„ë‹Œ 0!      â”‚
â”‚  T4: Producerê°€ data = 42 ì‹¤í–‰ (ë„ˆë¬´ ëŠ¦ìŒ)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

í•´ê²°ì±…: volatile í‚¤ì›Œë“œë‚˜ ë©”ëª¨ë¦¬ ë°°ë¦¬ì–´ ì‚¬ìš©
volatile int flag = 0;
volatile int data = 0;
```

### ê³µìœ  ìì›ì˜ ì¢…ë¥˜

**ê·¸ë˜ì„œ ì´ ê³µìœ  ìì›ì€ ë³´í†µ ë©”ëª¨ë¦¬ì™€ íŒŒì¼ ì •ë„ê°€ í”íˆ ë§Œë‚  ìˆ˜ ìˆëŠ” ê³µìœ  ìì›ì— ì†í•©ë‹ˆë‹¤**.

```
ê³µìœ  ìì›ì˜ ë¶„ë¥˜

ğŸ’¾ ë©”ëª¨ë¦¬ ê¸°ë°˜ ê³µìœ  ìì›:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ ì „ì—­ ë³€ìˆ˜ (Global Variables)                     â”‚
â”‚    static int counter = 0;                          â”‚
â”‚                                                     â”‚
â”‚  â€¢ ë™ì  í• ë‹¹ ë©”ëª¨ë¦¬ (Heap Memory)                   â”‚
â”‚    int* shared_data = malloc(sizeof(int));          â”‚
â”‚                                                     â”‚
â”‚  â€¢ ê³µìœ  ë©”ëª¨ë¦¬ (Shared Memory)                      â”‚
â”‚    shmget(), shmat() ë“±ìœ¼ë¡œ ìƒì„±                    â”‚
â”‚                                                     â”‚
â”‚  â€¢ ìŠ¤íƒœí‹± ë³€ìˆ˜ (Static Variables)                   â”‚
â”‚    í•¨ìˆ˜ ë‚´ë¶€ì˜ static ë³€ìˆ˜ë“¤                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“ íŒŒì¼ ê¸°ë°˜ ê³µìœ  ìì›:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ ì¼ë°˜ íŒŒì¼ (Regular Files)                        â”‚
â”‚    ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ì½ê¸°/ì“°ê¸°                  â”‚
â”‚                                                     â”‚
â”‚  â€¢ ë¡œê·¸ íŒŒì¼ (Log Files)                           â”‚
â”‚    ì—¬ëŸ¬ ëª¨ë“ˆì´ ë™ì‹œì— ë¡œê·¸ ê¸°ë¡                      â”‚
â”‚                                                     â”‚
â”‚  â€¢ ì„¤ì • íŒŒì¼ (Configuration Files)                  â”‚
â”‚    ëŸ°íƒ€ì„ì— ì„¤ì • ë³€ê²½ ì‹œ ì¶©ëŒ ê°€ëŠ¥                   â”‚
â”‚                                                     â”‚
â”‚  â€¢ ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼                                â”‚
â”‚    SQLite ë“± íŒŒì¼ ê¸°ë°˜ DBì˜ ë™ì‹œ ì ‘ê·¼               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”§ ì‹œìŠ¤í…œ ìì›:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ ë„¤íŠ¸ì›Œí¬ í¬íŠ¸ (Network Ports)                    â”‚
â”‚    ê°™ì€ í¬íŠ¸ì— ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ë°”ì¸ë”© ì‹œë„           â”‚
â”‚                                                     â”‚
â”‚  â€¢ í•˜ë“œì›¨ì–´ ì¥ì¹˜ (Hardware Devices)                 â”‚
â”‚    í”„ë¦°í„°, ì‚¬ìš´ë“œ ì¹´ë“œ ë“±ì˜ ë…ì ì  ì‚¬ìš©              â”‚
â”‚                                                     â”‚
â”‚  â€¢ ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ (System Resources)                 â”‚
â”‚    íŒŒì¼ í•¸ë“¤, ë©”ëª¨ë¦¬ í’€, ìŠ¤ë ˆë“œ í’€                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì„ê³„ êµ¬ì—­(Critical Section)ê³¼ ë™ê¸°í™”

**ê·¸ë˜ì„œ ì´ë ‡ê²Œ ë™ì‹œì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” ìì›ì— ëŒ€í•´ì„œ ì›ìì„±ì„ ë³´ì¥í•˜ì—¬ ë™ì‹œì  ì²˜ë¦¬ê°€ ì•ˆ ë˜ê²Œ ë°©ì§€í•˜ì—¬ ì˜ˆìƒë˜ëŠ” ë¬¸ì œë¥¼ ì‚¬ì „ì— ì°¨ë‹¨í•´ì•¼ í•©ë‹ˆë‹¤**.

**ê·¸ë ‡ë‹¤ë©´ ìš°ë¦¬ê°€ ì‘ì„±í•œ ì½”ë“œê°€ ìˆë‹¤ë©´ íŠ¹ì •í•œ ì½”ë“œê°€ ë‹¤ë¥¸ ì‹¤í–‰ íë¦„ ì¦‰ ìŠ¤ë ˆë“œì˜ ê°œì…ìœ¼ë¡œ ì¸í•˜ì—¬ ê°’ì´ ë³€ì§ˆë  ê°€ëŠ¥ì„±ì´ ì¡´ì¬í•œë‹¤ë©´ ê·¸ ì½”ë“œê°€ ì‹œì‘ë˜ëŠ” ì²˜ìŒê³¼ ëì— Lock, UnLockì„ í†µí•˜ì—¬ ì›ìì„±ì„ ë³´ì¥í•´ì•¼ í•©ë‹ˆë‹¤**.

```java
// âŒ ë™ê¸°í™”ë˜ì§€ ì•Šì€ ìœ„í—˜í•œ ì½”ë“œ
public class UnsafeBankAccount {
    private int balance = 100000;  // ê³µìœ  ìì›
    
    public void deposit(int amount) {
        // ì„ê³„ êµ¬ì—­ ì‹œì‘ (ë™ê¸°í™” ì—†ìŒ - ìœ„í—˜!)*
        int currentBalance = balance;      // 1. ì½ê¸°
        int newBalance = currentBalance + amount;  // 2. ê³„ì‚°
        balance = newBalance;              // 3. ì“°ê¸°// ì„ê³„ êµ¬ì—­ ë
        
        System.out.println("ì…ê¸ˆ ì™„ë£Œ: " + amount + ", ì”ì•¡: " + balance);
    }
}

// âœ… ë™ê¸°í™”ëœ ì•ˆì „í•œ ì½”ë“œ
public class SafeBankAccount {
    private int balance = 100000;
    private final Object lock = new Object();  // ë½ ê°ì²´
    
    public void deposit(int amount) {
        synchronized (lock) {  // ğŸ”’ Lock íšë“// ===== ì„ê³„ êµ¬ì—­ ì‹œì‘ =====
            int currentBalance = balance;
            
            // ì‹œë®¬ë ˆì´ì…˜: ë‹¤ë¥¸ ì‘ì—…ìœ¼ë¡œ ì¸í•œ ì§€ì—°
            try {
                Thread.sleep(1);  // 1ms ì§€ì—°
            } catch (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
            
            int newBalance = currentBalance + amount;
            balance = newBalance;
            // ===== ì„ê³„ êµ¬ì—­ ë =====
        }  // ğŸ”“ Lock ìë™ í•´ì œ
        
        System.out.println("ì…ê¸ˆ ì™„ë£Œ: " + amount + ", ì”ì•¡: " + balance);
    }
    
    public synchronized int getBalance() {  // ë©”ì„œë“œ ì „ì²´ ë™ê¸°í™”
        return balance;
    }
}

// í…ŒìŠ¤íŠ¸ ì½”ë“œ
public class BankTest {
    public static void main(String[] args) throws InterruptedException {
        SafeBankAccount account = new SafeBankAccount();
        
        // 5ê°œ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— 10ë§Œì›ì”© ì…ê¸ˆ
        Thread[] threads = new Thread[5];
        for (int i = 0; i < 5; i++) {
            final int threadId = i;
            threads[i] = new Thread(() -> {
                account.deposit(100000);
                System.out.println("ìŠ¤ë ˆë“œ " + threadId + " ì™„ë£Œ");
            });
        }
        
        // ëª¨ë“  ìŠ¤ë ˆë“œ ì‹œì‘
        for (Thread thread : threads) {
            thread.start();
        }
        
        // ëª¨ë“  ìŠ¤ë ˆë“œ ì™„ë£Œ ëŒ€ê¸°
        for (Thread thread : threads) {
            thread.join();
        }
        
        System.out.println("ìµœì¢… ì”ì•¡: " + account.getBalance());
        System.out.println("ì˜ˆìƒ ì”ì•¡: " + (100000 + 5 * 100000));
    }
}
```

### ì„ê³„ êµ¬ì—­ ìµœì†Œí™”ì˜ ì¤‘ìš”ì„±

**ì´ë ‡ê²Œ ê³µìœ  ìì›ì— ëŒ€í•œ ê²½ìŸ ì¡°ê±´ì´ ë°œìƒí•˜ëŠ” ì„ê³„ êµ¬ê°„ì— ëŒ€í•´ ì–´ëŠ êµ¬ê°„ì„ ì–¸ì œ ì–´ë–¤ ì¡°ê±´ì¼ ë•Œ ì„ê³„ êµ¬ê°„ìœ¼ë¡œ ì„¤ì •í• ì§€ì— ëŒ€í•´ì„œëŠ” ì™„ë²½í•˜ê²Œ ê²½í—˜ì— ì˜ì¡´í•˜ì§€ë§Œ í™•ì‹¤í•œ ê²ƒì€ ì´ ì„ê³„ êµ¬ê°„ì€ ë°˜ë“œì‹œ ìµœì†Œí™”í•´ì•¼ í•©ë‹ˆë‹¤**.

```java
// âŒ ë‚˜ìœ ì˜ˆ: ì„ê³„ êµ¬ì—­ì´ ë„ˆë¬´ í¼
public class BadExample {
    private int counter = 0;
    private final Object lock = new Object();
    
    public void processData() {
        synchronized (lock) {  // ğŸ”’ ë½ íšë“// === ë¶ˆí•„ìš”í•˜ê²Œ ê¸´ ì„ê³„ êµ¬ì—­ ===
            
            // 1. ë„¤íŠ¸ì›Œí¬ í˜¸ì¶œ (ìˆ˜ë°± ë°€ë¦¬ì´ˆ ì†Œìš”)
            String data = fetchDataFromServer();  // âŒ ë½ ì•ˆì—ì„œ ëŠë¦° ì‘ì—…
            
            // 2. ë³µì¡í•œ ê³„ì‚° (ìˆ˜ì‹­ ë°€ë¦¬ì´ˆ ì†Œìš”)
            String processed = processComplexAlgorithm(data);  // âŒ ë½ ì•ˆì—ì„œ ë¬´ê±°ìš´ ì—°ì‚°
            
            // 3. íŒŒì¼ I/O (ìˆ˜ì‹­ ë°€ë¦¬ì´ˆ ì†Œìš”)*
            writeToFile(processed);  // âŒ ë½ ì•ˆì—ì„œ I/O ì‘ì—…
            
            // 4. ì‹¤ì œë¡œ ë³´í˜¸í•´ì•¼ í•  ê³µìœ  ìì› ì ‘ê·¼
            counter++;  // âœ… ì •ë§ í•„ìš”í•œ ë¶€ë¶„ (1 ë§ˆì´í¬ë¡œì´ˆ)
            
            // === ì„ê³„ êµ¬ì—­ ë ===*
        }  // ğŸ”“ ë½ í•´ì œ (ì „ì²´ ì‹œê°„: ìˆ˜ë°± ë°€ë¦¬ì´ˆ)
    }
}

// âœ… ì¢‹ì€ ì˜ˆ: ì„ê³„ êµ¬ì—­ ìµœì†Œí™”
public class GoodExample {
    private int counter = 0;
    private final Object lock = new Object();
    
    public void processData() {
        // ë½ ì™¸ë¶€ì—ì„œ ëŠë¦° ì‘ì—…ë“¤ ìˆ˜í–‰
        String data = fetchDataFromServer();      // ë½ ì—†ì´ ì‹¤í–‰
        String processed = processComplexAlgorithm(data);  // ë½ ì—†ì´ ì‹¤í–‰
        writeToFile(processed);                   // ë½ ì—†ì´ ì‹¤í–‰
        
        // ìµœì†Œí•œì˜ ì„ê³„ êµ¬ì—­
        synchronized (lock) {  // ğŸ”’ ë½ íšë“
            counter++;  // ì •ë§ í•„ìš”í•œ ë¶€ë¶„ë§Œ ë³´í˜¸ (1 ë§ˆì´í¬ë¡œì´ˆ)
        }  // ğŸ”“ ë½ í•´ì œ (ì „ì²´ ë½ ì‹œê°„: 1 ë§ˆì´í¬ë¡œì´ˆ)
    }
}
```

### ì„ê³„ êµ¬ì—­ ì„¤ê³„ ì›ì¹™

```
ì„ê³„ êµ¬ì—­ ìµœì†Œí™” ì „ëµ

1ï¸âƒ£ ì‚¬ì „ ì¤€ë¹„ (Pre-computation)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë½ íšë“ ì „ì— ê°€ëŠ¥í•œ ëª¨ë“  ê³„ì‚°ì„ ë¯¸ë¦¬ ìˆ˜í–‰           â”‚
â”‚                                                     â”‚
â”‚  // ë½ ì™¸ë¶€ì—ì„œ ì¤€ë¹„                                â”‚
â”‚  int newValue = expensiveCalculation();             â”‚
â”‚  String formattedData = formatData(rawData);        â”‚
â”‚                                                     â”‚
â”‚  synchronized (lock) {                              â”‚
â”‚      // ë½ ë‚´ë¶€ì—ì„œëŠ” ìµœì†Œí•œì˜ ì‘ì—…ë§Œ               â”‚
â”‚      sharedResource = newValue;                     â”‚
â”‚  }                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2ï¸âƒ£ ì§€ì—­ ë³€ìˆ˜ í™œìš© (Local Variable Usage)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê³µìœ  ìì›ì„ ì§€ì—­ ë³€ìˆ˜ë¡œ ë³µì‚¬í•´ì„œ ì‘ì—…               â”‚
â”‚                                                     â”‚
â”‚  int localCopy;                                     â”‚
â”‚  synchronized (lock) {                              â”‚
â”‚      localCopy = sharedData;  // ë¹ ë¥¸ ë³µì‚¬          â”‚
â”‚  }                                                  â”‚
â”‚                                                     â”‚
â”‚  // ë½ ì™¸ë¶€ì—ì„œ ë³µì¡í•œ ì‘ì—…                         â”‚
â”‚  int result = heavyProcessing(localCopy);           â”‚
â”‚                                                     â”‚
â”‚  synchronized (lock) {                              â”‚
â”‚      sharedData = result;  // ë¹ ë¥¸ ì—…ë°ì´íŠ¸         â”‚
â”‚  }                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3ï¸âƒ£ ì½ê¸°-ìˆ˜ì •-ì“°ê¸° ìµœì í™”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  // âŒ ë¹„íš¨ìœ¨ì                                     â”‚
â”‚  synchronized (lock) {                              â”‚
â”‚      for (int i = 0; i < 1000; i++) {              â”‚
â”‚          counter++;  // 1000ë²ˆì˜ ë½ ê²½í•©            â”‚
â”‚      }                                              â”‚
â”‚  }                                                  â”‚
â”‚                                                     â”‚
â”‚  // âœ… íš¨ìœ¨ì                                       â”‚
â”‚  int increment = 1000;  // ë¯¸ë¦¬ ê³„ì‚°               â”‚
â”‚  synchronized (lock) {                              â”‚
â”‚      counter += increment;  // í•œ ë²ˆì˜ ë½ ê²½í•©      â”‚
â”‚  }                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4ï¸âƒ£ ì„¸ë°€í•œ ë½ ì‚¬ìš© (Fine-grained Locking)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  // âŒ í•˜ë‚˜ì˜ í° ë½                                â”‚
â”‚  private final Object bigLock = new Object();      â”‚
â”‚                                                     â”‚
â”‚  synchronized (bigLock) {                           â”‚
â”‚      accountA.withdraw(100);                        â”‚
â”‚      accountB.deposit(100);                         â”‚
â”‚  }                                                  â”‚
â”‚                                                     â”‚
â”‚  // âœ… ì—¬ëŸ¬ ê°œì˜ ì‘ì€ ë½                           â”‚
â”‚  synchronized (accountA.getLock()) {                â”‚
â”‚      accountA.withdraw(100);                        â”‚
â”‚  }                                                  â”‚
â”‚  synchronized (accountB.getLock()) {                â”‚
â”‚      accountB.deposit(100);                         â”‚
â”‚  }                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì„±ëŠ¥ ì˜í–¥ ë¶„ì„

```
ì„ê³„ êµ¬ì—­ í¬ê¸°ë³„ ì„±ëŠ¥ ë¹„êµ

ì„ê³„ êµ¬ì—­ ì‹œê°„: 1ms (ê¸´ ì„ê³„ êµ¬ì—­)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  10ê°œ ìŠ¤ë ˆë“œ ì‹¤í–‰ ì‹œ:                               â”‚
â”‚  ìŠ¤ë ˆë“œ 1: ëŒ€ê¸° 0ms + ì‹¤í–‰ 1ms = 1ms                â”‚
â”‚  ìŠ¤ë ˆë“œ 2: ëŒ€ê¸° 1ms + ì‹¤í–‰ 1ms = 2ms                â”‚
â”‚  ìŠ¤ë ˆë“œ 3: ëŒ€ê¸° 2ms + ì‹¤í–‰ 1ms = 3ms                â”‚
â”‚  ...                                                â”‚
â”‚  ìŠ¤ë ˆë“œ 10: ëŒ€ê¸° 9ms + ì‹¤í–‰ 1ms = 10ms              â”‚
â”‚                                                     â”‚
â”‚  ì´ ì²˜ë¦¬ ì‹œê°„: 10ms                                 â”‚
â”‚  í‰ê·  ëŒ€ê¸° ì‹œê°„: 4.5ms                              â”‚
â”‚  ì²˜ë¦¬ëŸ‰: 1000 ops/sec                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì„ê³„ êµ¬ì—­ ì‹œê°„: 0.01ms (ì§§ì€ ì„ê³„ êµ¬ì—­)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  10ê°œ ìŠ¤ë ˆë“œ ì‹¤í–‰ ì‹œ:                               â”‚
â”‚  ìŠ¤ë ˆë“œ 1: ëŒ€ê¸° 0ms + ì‹¤í–‰ 0.01ms = 0.01ms          â”‚
â”‚  ìŠ¤ë ˆë“œ 2: ëŒ€ê¸° 0.01ms + ì‹¤í–‰ 0.01ms = 0.02ms       â”‚
â”‚  ìŠ¤ë ˆë“œ 3: ëŒ€ê¸° 0.02ms + ì‹¤í–‰ 0.01ms = 0.03ms       â”‚
â”‚  ...                                                â”‚
â”‚  ìŠ¤ë ˆë“œ 10: ëŒ€ê¸° 0.09ms + ì‹¤í–‰ 0.01ms = 0.1ms       â”‚
â”‚                                                     â”‚
â”‚  ì´ ì²˜ë¦¬ ì‹œê°„: 0.1ms                                â”‚
â”‚  í‰ê·  ëŒ€ê¸° ì‹œê°„: 0.045ms                            â”‚
â”‚  ì²˜ë¦¬ëŸ‰: 100,000 ops/sec                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê²°ë¡ : ì„ê³„ êµ¬ì—­ì„ 1/100ë¡œ ì¤„ì´ë©´ ì²˜ë¦¬ëŸ‰ì´ 100ë°° í–¥ìƒ!
```

ì´ì²˜ëŸ¼ **ì„ê³„ êµ¬ì—­ì˜ ìµœì†Œí™”ëŠ” ë‹¨ìˆœí•œ ìµœì í™”ê°€ ì•„ë‹ˆë¼ ì‹œìŠ¤í…œ ì „ì²´ ì„±ëŠ¥ì„ ì¢Œìš°í•˜ëŠ” í•µì‹¬ ìš”ì†Œ**ì…ë‹ˆë‹¤. ê²½í—˜ ë§ì€ ê°œë°œìê°€ ë˜ê¸° ìœ„í•´ì„œëŠ” **ì–´ë–¤ ì½”ë“œê°€ ì •ë§ë¡œ ë™ê¸°í™”ê°€ í•„ìš”í•œì§€, ê·¸ë¦¬ê³  ê·¸ ë²”ìœ„ë¥¼ ì–´ë–»ê²Œ ìµœì†Œí™”í• ì§€ë¥¼ ì •í™•íˆ íŒë‹¨í•˜ëŠ” ëŠ¥ë ¥**ì„ ê¸°ë¥´ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.


## ì„ê³„êµ¬ì—­ í•´ê²° ë°©ë²•

### ì„ê³„êµ¬ì—­ì˜ ì •ì˜ì™€ í˜„ì‹¤ì  ë³µì¡ì„±

**ì„ê³„êµ¬ì—­ì— ëŒ€í•œ ì •ì˜ë¶€í„° ë‹¤ì‹œ ì–¸ê¸‰í•˜ê³  ê°€ìë©´ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤(ë˜ëŠ” ìŠ¤ë ˆë“œ)ê°€ ë™ì‹œì— ì ‘ê·¼í•´ì„œëŠ” ì•ˆ ë˜ëŠ” ê³µìœ  ìì›(ì˜ˆ: ë°ì´í„° êµ¬ì¡°, ë©”ëª¨ë¦¬, íŒŒì¼ ë“±)ì— ì ‘ê·¼í•˜ëŠ” ì½”ë“œì˜ ì¼ë¶€**ë¥¼ ë§í•©ë‹ˆë‹¤.

**ì´ ì„ê³„ êµ¬ì—­ì„ ì–´ë–»ê²Œ ì •í•˜ê³  ê·¸ ê·¼ê±°ëŠ” ì „ì ìœ¼ë¡œ ê²½í—˜ì— ì˜í•´ì„œ ì •í•´ì§‘ë‹ˆë‹¤**. **ë˜í•œ ì¼ë°˜ì ì¸ í•´ê²°ë°©ë²•ì€ ëŒ€ë‹¨íˆ ì¼ë°˜ì ì´ê³  ì‹¤ì œë¡œëŠ” ë§¤ìš° íŠ¹ìˆ˜í•œ ìƒí™©ì¸ ê²½ìš°ê°€ ë§ê¸°ì— ì¼ë°˜ì ì¸ ì±…ì—ì„œ ë‚˜ì˜¤ëŠ” í•´ê²°ë°©ë²•ì´ ì ìš©ë˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë‹¤ë°˜ì‚¬**ì…ë‹ˆë‹¤.

**ì´ë¡  vs í˜„ì‹¤**

```
êµê³¼ì„œì  ì„ê³„êµ¬ì—­:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  synchronized (lock) {                              â”‚
â”‚      counter++;  // ê°„ë‹¨í•œ ê³µìœ  ë³€ìˆ˜ ì ‘ê·¼           â”‚
â”‚  }                                                  â”‚
â”‚                                                     â”‚
â”‚  íŠ¹ì§•:                                              â”‚
â”‚  â€¢ ëª…í™•í•œ ì‹œì‘ê³¼ ë                                 â”‚
â”‚  â€¢ ë‹¨ìˆœí•œ ë°ì´í„° êµ¬ì¡°                               â”‚
â”‚  â€¢ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì‹¤í–‰ ì‹œê°„                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì‹¤ì œ ì—…ë¬´ì˜ ì„ê³„êµ¬ì—­:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒ ë¶„ì‚° ì‹œìŠ¤í…œ í™˜ê²½                                â”‚
â”‚  â€¢ ë„¤íŠ¸ì›Œí¬ ì§€ì—° (10ms ~ 1000ms)                   â”‚
â”‚  â€¢ ì„œë²„ ê°„ ë°ì´í„° ë™ê¸°í™”                            â”‚
â”‚  â€¢ ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜                            â”‚
â”‚  â€¢ ìºì‹œ ë¬´íš¨í™”                                      â”‚
â”‚  â€¢ ë¡œë“œ ë°¸ëŸ°ì„œë¥¼ í†µí•œ ìš”ì²­ ë¶„ì‚°                     â”‚
â”‚                                                     â”‚
â”‚  ğŸ”§ ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§                            â”‚
â”‚  â€¢ ë‹¤ë‹¨ê³„ ê²€ì¦ ê³¼ì •                                 â”‚
â”‚  â€¢ ì™¸ë¶€ API í˜¸ì¶œ                                   â”‚
â”‚  â€¢ íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼                                 â”‚
â”‚  â€¢ ì´ë©”ì¼/ì•Œë¦¼ ë°œì†¡                                â”‚
â”‚                                                     â”‚
â”‚  â“ ì–´ë””ì„œë¶€í„° ì–´ë””ê¹Œì§€ê°€ ì„ê³„êµ¬ì—­ì¸ê°€?             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`
```

**ì‹¤ì œ ì—…ë¬´ ì‹œë‚˜ë¦¬ì˜¤: UI-ì„œë¹„ìŠ¤-DB ì•„í‚¤í…ì²˜**

ë§Œì•½ì— UIì—ì„œ ì¡°íšŒ ì¶”ê°€ ì‚­ì œê°€ ìˆê³  ì´ë¥¼ íŠ¹ì • ë°±ì—”ë“œ ì„œë²„ì—ì„œ íŠ¹ì • ì„œë¹„ìŠ¤ë¡œ ì‹¤í–‰í•œë‹¤ê³  ê°€ì •í–ˆì„ ë•Œ ì´ ì„œë¹„ìŠ¤ëŠ” ë‹¤ì‹œ DB ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

```
ğŸ—ï¸ 3ê³„ì¸µ ì•„í‚¤í…ì²˜ì—ì„œì˜ ë™ì‹œì„± ë¬¸ì œ

          UI (React/Vue)
             â†• HTTP
       ë°±ì—”ë“œ ì„œë¹„ìŠ¤ (Spring)
             â†• SQL
         DB ì„œë²„ (MySQL)

ì‹¤ì œ ì‹œë‚˜ë¦¬ì˜¤:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘¤ ì‚¬ìš©ì A: "ì£¼ì†Œë¡ì—ì„œ ê¹€ì² ìˆ˜ ì‚­ì œ" ë²„íŠ¼ í´ë¦­     â”‚
â”‚  ğŸ‘¤ ì‚¬ìš©ì B: "ê¹€ì² ìˆ˜ ì •ë³´ ìˆ˜ì •" í™”ë©´ì—ì„œ ì €ì¥ ë²„íŠ¼   â”‚
â”‚                                                     â”‚
â”‚  íƒ€ì´ë°:                                            â”‚
â”‚  T1: ì‚¬ìš©ì A â†’ DELETE ìš”ì²­ ì „ì†¡                    â”‚
â”‚  T2: ì‚¬ìš©ì B â†’ UPDATE ìš”ì²­ ì „ì†¡ (ê±°ì˜ ë™ì‹œ)        â”‚
â”‚  T3: ì„œë²„ì—ì„œ DELETE ì²˜ë¦¬ ì‹œì‘                      â”‚
â”‚  T4: ì„œë²„ì—ì„œ UPDATE ì²˜ë¦¬ ì‹œì‘                      â”‚
â”‚                                                     â”‚
â”‚  â“ ê²°ê³¼: ê¹€ì² ìˆ˜ ë°ì´í„°ëŠ” ì‚­ì œ? ìˆ˜ì •? ì•„ë‹ˆë©´ ì˜¤ë¥˜?   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜`
```

**ì´ë•Œ DB ì„œë²„ì— ë°ì´í„°ë¥¼ ìš”ì²­í•˜ê³  ì‘ë‹µì„ ë°›ëŠ” Network I/Oê°€ ë°œìƒí•©ë‹ˆë‹¤**. **ê¸°ë³¸ì ìœ¼ë¡œ ì´ Network I/OëŠ” ë¹„ë™ê¸°ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤**. **ì´ GUI í™”ë©´ì´ ì–´ë–¤ ìŠ¤ë ˆë“œ Aê°€ ì‹¤í–‰í•˜ê³  ì´ ì„œë¹„ìŠ¤ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‘ì—… ì—­ì‹œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œ Bê°€ ì²˜ë¦¬í•˜ê²Œ ë©ë‹ˆë‹¤**. **ê·¸ëŸ¬ë©´ ì´ GUIì™€ ì„œë¹„ìŠ¤ëŠ” ë™ì‹œì„±ì„ ê°€ì§€ê²Œ ë©ë‹ˆë‹¤**.

**ì´ë•Œ ì´ ë„¤íŠ¸ì›Œí¬ë¼ëŠ” ê²ƒì€ ì–´ì©” ë•ŒëŠ” ë˜ë‹¤ê°€ íŠ¹ì • ìƒí™©ì—ëŠ” ì•ˆ ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤**. **ê·¸ë˜ì„œ ì´ ë„¤íŠ¸ì›Œí¬ë¼ëŠ” ë…€ì„ì€ ë¹„ë™ê¸°ì— ë¶ˆì•ˆì •ì„±ê¹Œì§€ë„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤**.

```
ë„¤íŠ¸ì›Œí¬ I/Oì˜ ë³µì¡ì„±

ì •ìƒì ì¸ íë¦„:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UI ìŠ¤ë ˆë“œ                 ì„œë¹„ìŠ¤ ìŠ¤ë ˆë“œ              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚1. ì‚­ì œ ìš”ì²­  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚3. DBì— DELETEâ”‚           â”‚
â”‚  â”‚2. í™”ë©´ ì—…ë°ì´íŠ¸â”‚        â”‚4. ì‘ë‹µ 200 OKâ”‚           â”‚
â”‚  â”‚   (ë¡œë”©...)  â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”‚5. ì™„ë£Œ ì•Œë¦¼   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚  ì´ ì†Œìš”ì‹œê°„: 200ms (ì˜ˆì¸¡ ê°€ëŠ¥)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” íë¦„:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  UI ìŠ¤ë ˆë“œ                 ì„œë¹„ìŠ¤ ìŠ¤ë ˆë“œ              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚1. ì‚­ì œ ìš”ì²­  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â†’â”‚3. DBì— DELETEâ”‚           â”‚
â”‚  â”‚2. í™”ë©´ ì—…ë°ì´íŠ¸â”‚        â”‚4. â° ë„¤íŠ¸ì›Œí¬ â”‚           â”‚
â”‚  â”‚   (ë¡œë”©...)  â”‚         â”‚   íƒ€ì„ì•„ì›ƒ!   â”‚           â”‚
â”‚  â”‚6. â“ ì‚­ì œë¨? â”‚         â”‚5. ì¬ì‹œë„ ì‹œë„ â”‚           â”‚
â”‚  â”‚   ì•ˆë¨?      â”‚â†â”€â”€â”€â”€â”€â”€â”€â”€â”‚   ë˜ëŠ” ì‹¤íŒ¨   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚  ì†Œìš”ì‹œê°„: 30ì´ˆ+ (ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥)                       â”‚
â”‚                                                     â”‚
â”‚  ğŸ’¥ ì´ ì‚¬ì´ì— ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ê°™ì€ ë°ì´í„° ì¡°íšŒ/ìˆ˜ì •    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì „ì—­ ìë£Œêµ¬ì¡°ì—ì„œì˜ ì„ê³„êµ¬ì—­

**ê·¸ë˜ì„œ ì„ê³„ êµ¬ì—­ì´ë¼ê³  í•˜ë©´ ì „ì—­ ìë£Œêµ¬ì¡° ì˜ˆë¥¼ ë“¤ì–´ ì£¼ì†Œë¡ì´ ìˆë‹¤ê³  í•œë‹¤ë©´ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆê³  ì‚­ì œí•  ìˆ˜ë„ ìˆê³  ë‹¨ìˆœ ë°ì´í„°ë¥¼ ì½ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤**(ì „ì²´ ê²€ìƒ‰). **ë§Œì•½ ì „ì²´ ê²€ìƒ‰ì´ ë°œìƒí•˜ëŠ” ì™€ì¤‘ì— í•´ë‹¹ ì£¼ì†Œë¡ì— ë°ì´í„°ê°€ ì¶”ê°€ë˜ê±°ë‚˜ ì‚­ì œëœë‹¤ë©´ ë°ì´í„°ê°€ ì—‰í‚¬ ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤**.

java

```java
// ì „ì—­ ìë£Œêµ¬ì¡° ì˜ˆì‹œ
public class ContactManager {
    // ê³µìœ  ìì› - ëª¨ë“  ìŠ¤ë ˆë“œê°€ ì ‘ê·¼ ê°€ëŠ¥
    private List<Contact> contactList = new ArrayList<>();
    private Map<String, Contact> contactIndex = new HashMap<>();
    
    // âŒ ë™ê¸°í™”ë˜ì§€ ì•Šì€ ìœ„í—˜í•œ ë©”ì„œë“œë“¤
    public void addContact(Contact contact) {
        // ì„ê³„êµ¬ì—­ 1: ë¦¬ìŠ¤íŠ¸ì™€ ì¸ë±ìŠ¤ ë™ì‹œ ìˆ˜ì •
        contactList.add(contact);           // A ì§€ì // ë§Œì•½ ì—¬ê¸°ì„œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ì „ì²´ ê²€ìƒ‰í•˜ë©´?
        contactIndex.put(contact.getName(), contact);  // B ì§€ì 
    }
    
    public void removeContact(String name) {
        // ì„ê³„êµ¬ì—­ 2: ì‚­ì œ ê³¼ì •
        Contact contact = contactIndex.get(name);      // C ì§€ì 
        if (contact != null) {
            contactList.remove(contact);               // D ì§€ì 
            contactIndex.remove(name);                 // E ì§€ì 
        }
    }
    
    public List<Contact> searchAll() {
        // ì„ê³„êµ¬ì—­ 3: ì „ì²´ ê²€ìƒ‰
        List<Contact> result = new ArrayList<>();
        for (Contact contact : contactList) {         // F ì§€ì // ë§Œì•½ ì—¬ê¸°ì„œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ì‚­ì œí•˜ë©´?
            result.add(contact.clone());              // G ì§€ì 
        }
        return result;
    }
}
```

```
*ë¬¸ì œ ì‹œë‚˜ë¦¬ì˜¤*
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‹œê°„  â”‚ ìŠ¤ë ˆë“œ A (ê²€ìƒ‰)      â”‚ ìŠ¤ë ˆë“œ B (ì‚­ì œ)     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  T1    â”‚ searchAll() ì‹œì‘     â”‚                    â”‚
â”‚  T2    â”‚ F: ë¦¬ìŠ¤íŠ¸ ìˆœíšŒ ì¤‘... â”‚ removeContact()    â”‚
â”‚  T3    â”‚ G: contact1 ë³µì‚¬     â”‚ D: contact2 ì‚­ì œ   â”‚
â”‚  T4    â”‚ G: contact2 ë³µì‚¬ ì‹œë„â”‚ E: ì¸ë±ìŠ¤ì—ì„œ ì œê±° â”‚
â”‚  T5    â”‚ ğŸ’¥ NullPointer!     â”‚ ì‚­ì œ ì™„ë£Œ          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê¸°ë³¸ì ì¸ ë™ê¸°í™” ê¸°ë²•ë“¤

ì´ëŸ° ë¬¸ì œë“¤ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë‹¤ì–‘í•œ ë™ê¸°í™” ê¸°ë²•ë“¤ì´ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤. ê°ê°ì˜ íŠ¹ì„±ê³¼ í•œê³„ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

### 1ï¸âƒ£ Mutex (ë®¤í…ìŠ¤) - ìƒí˜¸ ë°°ì œ

**MutexëŠ” í•œ ë²ˆì— í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ ì„ê³„êµ¬ì—­ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ ë™ê¸°í™” ê¸°ë²•**ì…ë‹ˆë‹¤.

```java
import java.util.concurrent.locks.ReentrantLock;

public class MutexExample {
    private int bankBalance = 100000;  // ê³µìœ  ìì›: ì€í–‰ ì”ì•¡
    private final ReentrantLock mutex = new ReentrantLock();  // ë®¤í…ìŠ¤
    
    public void withdraw(int amount) {
        mutex.lock();  // ğŸ”’ ë®¤í…ìŠ¤ íšë“ (í•œ ë²ˆì— í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ)
        try {
            System.out.println(Thread.currentThread().getName() + 
                             " - ì¶œê¸ˆ ì‹œë„: " + amount);
            
            // === ì„ê³„ êµ¬ì—­ ì‹œì‘ ===*
            if (bankBalance >= amount) {
                Thread.sleep(100);  // ë„¤íŠ¸ì›Œí¬ ì§€ì—° ì‹œë®¬ë ˆì´ì…˜
                bankBalance -= amount;
                System.out.println("ì¶œê¸ˆ ì„±ê³µ! ì”ì•¡: " + bankBalance);
            } else {
                System.out.println("ì”ì•¡ ë¶€ì¡±!");
            }
            // === ì„ê³„ êµ¬ì—­ ë ===
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        } finally {
            mutex.unlock();  // ğŸ”“ ë®¤í…ìŠ¤ í•´ì œ
        }
    }
}
```

**ì¥ì **: ë‹¨ìˆœí•˜ê³  ëª…í™•í•œ ìƒí˜¸ ë°°ì œ
**ë‹¨ì **: í•œ ë²ˆì— í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•´ì„œ ë³‘ë ¬ì„± ì œí•œ

### 2ï¸âƒ£ Semaphore (ì„¸ë§ˆí¬ì–´) - ìì› ê°œìˆ˜ ì œí•œ

**SemaphoreëŠ” ë™ì‹œì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ìŠ¤ë ˆë“œì˜ ê°œìˆ˜ë¥¼ ì œí•œ**í•©ë‹ˆë‹¤.

```java
import java.util.concurrent.Semaphore;

public class SemaphoreExample {
    // ìµœëŒ€ 3ê°œì˜ ìŠ¤ë ˆë“œë§Œ ë™ì‹œì— DB ì—°ê²° ê°€ëŠ¥
    private final Semaphore dbConnectionPool = new Semaphore(3);
    
    public void accessDatabase() {
        try {
            System.out.println(Thread.currentThread().getName() + 
                             " - DB ì—°ê²° ëŒ€ê¸° ì¤‘...");
            
            dbConnectionPool.acquire();  // ğŸ« í—ˆê°€ì¦ íšë“ (ì¹´ìš´íŠ¸ -1)
            System.out.println(Thread.currentThread().getName() + 
                             " - DB ì—°ê²° ì„±ê³µ! (ë‚¨ì€ ì—°ê²°: " + 
                             dbConnectionPool.availablePermits() + ")");
            
            // === ì œí•œëœ ìì› ì‚¬ìš© ===
            Thread.sleep(2000);  // DB ì‘ì—… ì‹œë®¬ë ˆì´ì…˜
            System.out.println(Thread.currentThread().getName() + 
                             " - DB ì‘ì—… ì™„ë£Œ");
            
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        } finally {
            dbConnectionPool.release();  // ğŸ« í—ˆê°€ì¦ ë°˜ë‚© (ì¹´ìš´íŠ¸ +1)
            System.out.println(Thread.currentThread().getName() + 
                             " - DB ì—°ê²° í•´ì œ");
        }
    }
}
```

**ì¥ì **: ì œí•œëœ ìì›ì„ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ê³µìœ  ê°€ëŠ¥
**ë‹¨ì **: ìì› ê°œìˆ˜ ê´€ë¦¬ê°€ ë³µì¡í•˜ê³ , ì—¬ì „íˆ ê²½ìŸ ì¡°ê±´ ë°œìƒ ê°€ëŠ¥

### 3ï¸âƒ£ ì¡°ê±´ ë³€ìˆ˜ (Condition Variable) - íŠ¹ì • ì¡°ê±´ ëŒ€ê¸°

**íŠ¹ì • ì¡°ê±´ì´ ë§Œì¡±ë  ë•Œê¹Œì§€ ìŠ¤ë ˆë“œë¥¼ ëŒ€ê¸°ì‹œí‚¤ëŠ” ê¸°ë²•**ì…ë‹ˆë‹¤.

```java
import java.util.concurrent.locks.Condition;
import java.util.concurrent.locks.ReentrantLock;

public class ConditionExample {
    private int itemCount = 0;
    private final int MAX_ITEMS = 5;
    private final ReentrantLock lock = new ReentrantLock();
    private final Condition notFull = lock.newCondition();   // ë²„í¼ê°€ ê°€ë“ ì°¨ì§€ ì•ŠìŒ
    private final Condition notEmpty = lock.newCondition();  // ë²„í¼ê°€ ë¹„ì–´ìˆì§€ ì•ŠìŒ
    
    // Producer: ì•„ì´í…œ ìƒì‚°
    public void produce() throws InterruptedException {
        lock.lock();
        try {
            while (itemCount >= MAX_ITEMS) {
                System.out.println("ë²„í¼ ê°€ë“ì°¸ - Producer ëŒ€ê¸°");
                notFull.await();  // ë²„í¼ì— ê³µê°„ì´ ìƒê¸¸ ë•Œê¹Œì§€ ëŒ€ê¸°
            }
            
            itemCount++;
            System.out.println("ì•„ì´í…œ ìƒì‚°! í˜„ì¬ ê°œìˆ˜: " + itemCount);
            notEmpty.signal();  // Consumerì—ê²Œ ì•„ì´í…œì´ ìˆë‹¤ê³  ì‹ í˜¸
            
        } finally {
            lock.unlock();
        }
    }
    
    // Consumer: ì•„ì´í…œ ì†Œë¹„
    public void consume() throws InterruptedException {
        lock.lock();
        try {
            while (itemCount <= 0) {
                System.out.println("ë²„í¼ ë¹„ì–´ìˆìŒ - Consumer ëŒ€ê¸°");
                notEmpty.await();  // ì•„ì´í…œì´ ìƒê¸¸ ë•Œê¹Œì§€ ëŒ€ê¸°
            }
            
            itemCount--;
            System.out.println("ì•„ì´í…œ ì†Œë¹„! í˜„ì¬ ê°œìˆ˜: " + itemCount);
            notFull.signal();  // Producerì—ê²Œ ê³µê°„ì´ ìˆë‹¤ê³  ì‹ í˜¸
            
        } finally {
            lock.unlock();
        }
    }
}
```

**ì¥ì **: ì¡°ê±´ ê¸°ë°˜ì˜ ì •êµí•œ ë™ê¸°í™” ê°€ëŠ¥
**ë‹¨ì **: êµ¬í˜„ì´ ë³µì¡í•˜ê³  ë°ë“œë½ ìœ„í—˜ì„± ì¡´ì¬

### 4ï¸âƒ£ ì½ê¸°-ì“°ê¸° ë½ (ReadWrite Lock) - ì½ê¸° ìš°ì„  ìµœì í™”

**ì½ê¸° ì‘ì—…ì€ ë™ì‹œì— í—ˆìš©í•˜ê³ , ì“°ê¸° ì‘ì—…ë§Œ ë…ì ì ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ” ê¸°ë²•**ì…ë‹ˆë‹¤.

```java
import java.util.concurrent.locks.ReadWriteLock;
import java.util.concurrent.locks.ReentrantReadWriteLock;

public class ReadWriteLockExample {
    private String sharedData = "ì´ˆê¸° ë°ì´í„°";
    private final ReadWriteLock rwLock = new ReentrantReadWriteLock();
    
    // ì½ê¸° ì‘ì—… - ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ì½ê¸° ê°€ëŠ¥
    public String readData() {
        rwLock.readLock().lock();  // ğŸ” ì½ê¸° ë½ íšë“
        try {
            System.out.println(Thread.currentThread().getName() + 
                             " - ë°ì´í„° ì½ê¸°: " + sharedData);
            Thread.sleep(1000);  // ì½ê¸° ì‘ì—… ì‹œë®¬ë ˆì´ì…˜
            return sharedData;
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
            return null;
        } finally {
            rwLock.readLock().unlock();  // ğŸ” ì½ê¸° ë½ í•´ì œ
        }
    }
    
    // ì“°ê¸° ì‘ì—… - í•œ ë²ˆì— í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ ì‹¤í–‰ ê°€ëŠ¥
    public void writeData(String newData) {
        rwLock.writeLock().lock();  // âœï¸ ì“°ê¸° ë½ íšë“ (ë…ì )
        try {
            System.out.println(Thread.currentThread().getName() + 
                             " - ë°ì´í„° ì“°ê¸° ì‹œì‘");
            Thread.sleep(500);  // ì“°ê¸° ì‘ì—… ì‹œë®¬ë ˆì´ì…˜
            sharedData = newData;
            System.out.println("ë°ì´í„° ì—…ë°ì´íŠ¸ ì™„ë£Œ: " + sharedData);
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        } finally {
            rwLock.writeLock().unlock();  // âœï¸ ì“°ê¸° ë½ í•´ì œ
        }
    }
}
```

**ì¥ì **: ì½ê¸° ì‘ì—…ì˜ ë³‘ë ¬ì„± ê·¹ëŒ€í™”
**ë‹¨ì **: ì“°ê¸° ì‘ì—…ì´ ê¸°ì•„ ìƒíƒœì— ë¹ ì§ˆ ìœ„í—˜

### ëª¨ë‹ˆí„°(Monitor) íŒ¨í„´ê³¼ í ê¸°ë°˜ ë™ê¸°í™”

**ìš°ë¦¬ê°€ ìŠ¤ë ˆë“œ ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ë™ê¸°í™”ë¼ê³  í•˜ëŠ” ëª©í‘œë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•´ì„œ í•­ìƒ ë‚˜ì˜¤ëŠ” ìë£Œêµ¬ì¡°ê°€ Queue**ì…ë‹ˆë‹¤.

### ëª¨ë‹ˆí„° íŒ¨í„´ì˜ í•µì‹¬ ê°œë…

```
ëª¨ë‹ˆí„° êµ¬ì¡°

ìŠ¤ë ˆë“œ + í + ëª¨ë‹ˆí„°
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Monitor                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚               Work Queue                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚  â”‚  â”‚Task1â”‚ â”‚Task2â”‚ â”‚Task3â”‚ â”‚Task4â”‚ â† ì™¸ë¶€ ì¶”ê°€â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                    â†‘ poll()                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          Worker Thread                      â”‚   â”‚
â”‚  â”‚  1. íì—ì„œ ì‘ì—… êº¼ë‚´ê¸°                      â”‚   â”‚
â”‚  â”‚  2. ì‘ì—… ì‹¤í–‰                               â”‚   â”‚
â”‚  â”‚  3. ë‹¤ìŒ ì‘ì—… ëŒ€ê¸°                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

í•µì‹¬ íŠ¹ì§•:
âœ… í•œ ë²ˆì— í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ ëª¨ë‹ˆí„° ë‚´ë¶€ ì ‘ê·¼
âœ… íë¥¼ í†µí•œ ìˆœì„œ ë³´ì¥ (FIFO)
âœ… wait/notifyë¥¼ í†µí•œ íš¨ìœ¨ì ì¸ ëŒ€ê¸°
âœ… ì„ê³„êµ¬ì—­ ìµœì†Œí™” (í ì¡°ì‘ë§Œ ë™ê¸°í™”)

**ì´ëŸ¬í•œ ê°œë…ì„ ëª¨ë‹ˆí„°ë¼ê³  í•©ë‹ˆë‹¤**. **ì–´ë–¤ ë™ê¸°í™” ê¸°ë²•ì„ ì‚¬ìš©í•˜ë“  ê²°êµ­ ìœ„ì˜ êµ¬ì¡°ê°€ í•µì‹¬ì…ë‹ˆë‹¤**. **ë‚´ë¶€ì ìœ¼ë¡œ íì— í•´ì•¼ ë  ì¼ì„ ì¤„ ì„¸ì›ë‹ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ê±¸ í•˜ë‚˜ì”© êº¼ë‚´ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤**.

ì´ íŒ¨í„´ì€ **Javaì˜ synchronized, BlockingQueue, ExecutorService ë“±ì˜ ê¸°ë°˜ì´ ë˜ëŠ” í•µì‹¬ ë™ê¸°í™” ë©”ì»¤ë‹ˆì¦˜**ì´ë©°, **ì‹¤ì œ ì—…ë¬´ì—ì„œ ë§ˆì£¼ì¹˜ëŠ” ë³µì¡í•œ ë™ì‹œì„± ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” í˜„ì‹¤ì ì´ê³  íš¨ê³¼ì ì¸ ë°©ë²•**ì…ë‹ˆë‹¤.

```java
// ëª¨ë‹ˆí„° íŒ¨í„´ êµ¬í˜„ ì˜ˆì‹œ
public class TaskProcessor {
    private final Queue<Task> taskQueue = new LinkedList<>();
    private final Object monitor = new Object();  // ëª¨ë‹ˆí„° ê°ì²´
    private volatile boolean running = true;
    
    // ì‘ì—… ì¶”ê°€ (Producer)
    public void addTask(Task task) {
        synchronized (monitor) {  // ğŸ”’ ëª¨ë‹ˆí„° ì§„ì…
            taskQueue.offer(task);
            System.out.println("ì‘ì—… ì¶”ê°€: " + task.getId());
            monitor.notify();  // ëŒ€ê¸° ì¤‘ì¸ ìŠ¤ë ˆë“œ ê¹¨ìš°ê¸°
        }  // ğŸ”“ ëª¨ë‹ˆí„° í•´ì œ
    }
    
    // ì‘ì—… ì²˜ë¦¬ (Consumer)
    public void processTask() {
        while (running) {
            Task task = null;
            
            synchronized (monitor) {  // ğŸ”’ ëª¨ë‹ˆí„° ì§„ì…
                while (taskQueue.isEmpty() && running) {
                    try {
                        System.out.println("ì‘ì—… ëŒ€ê¸° ì¤‘...");
                        monitor.wait();  // íê°€ ë¹„ì–´ìˆìœ¼ë©´ ëŒ€ê¸°
                    } catch (InterruptedException e) {
                        Thread.currentThread().interrupt();
                        return;
                    }
                }
                
                if (!taskQueue.isEmpty()) {
                    task = taskQueue.poll();  // íì—ì„œ ì‘ì—… êº¼ë‚´ê¸°
                }
            }  // ğŸ”“ ëª¨ë‹ˆí„° í•´ì œ
            
            // ëª¨ë‹ˆí„° ì™¸ë¶€ì—ì„œ ì‹¤ì œ ì‘ì—… ìˆ˜í–‰ (ì„ê³„êµ¬ì—­ ìµœì†Œí™”)
            if (task != null) {
                executeTask(task);
            }
        }
    }
    
    private void executeTask(Task task) {
        System.out.println("ì‘ì—… ì‹¤í–‰ ì‹œì‘: " + task.getId());
        // ì‹¤ì œ ì‘ì—… ìˆ˜í–‰ (ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦´ ìˆ˜ ìˆìŒ)
        try {
            Thread.sleep(task.getDuration());
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
        System.out.println("ì‘ì—… ì‹¤í–‰ ì™„ë£Œ: " + task.getId());
    }
    
    public void shutdown() {
        synchronized (monitor) {
            running = false;
            monitor.notifyAll();  // ëª¨ë“  ëŒ€ê¸° ìŠ¤ë ˆë“œ ê¹¨ìš°ê¸°
        }
    }
}

// ì‚¬ìš© ì˜ˆì‹œ
public class MonitorExample {
    public static void main(String[] args) throws InterruptedException {
        TaskProcessor processor = new TaskProcessor();
        
        // ì‘ì—… ì²˜ë¦¬ ìŠ¤ë ˆë“œ ì‹œì‘
        Thread workerThread = new Thread(processor::processTask);
        workerThread.start();
        
        // ì‘ì—… ì¶”ê°€ ìŠ¤ë ˆë“œë“¤ ì‹œì‘
        Thread[] producers = new Thread[3];
        for (int i = 0; i < 3; i++) {
            final int producerId = i;
            producers[i] = new Thread(() -> {
                for (int j = 0; j < 5; j++) {
                    Task task = new Task("P" + producerId + "-T" + j, 1000);
                    processor.addTask(task);
                    
                    try {
                        Thread.sleep(500);  // 0.5ì´ˆë§ˆë‹¤ ì‘ì—… ì¶”ê°€
                    } catch (InterruptedException e) {
                        Thread.currentThread().interrupt();
                        break;
                    }
                }
            });
            producers[i].start();
        }
        
        // 10ì´ˆ í›„ ì¢…ë£Œ
        Thread.sleep(10000);
        processor.shutdown();
        
        workerThread.join();
        for (Thread producer : producers) {
            producer.join();
        }
        
        System.out.println("ëª¨ë“  ì‘ì—… ì™„ë£Œ");
    }
}
```


### ëŒ€ì¶© ë„˜ì–´ê°€ëŠ” êµì°© ìƒíƒœ

### ë°ë“œë½ì˜ 4ê°€ì§€ í•„ìš” ì¡°ê±´

ë°ë“œë½ì´ ë°œìƒí•˜ë ¤ë©´ ë‹¤ìŒ 4ê°€ì§€ ì¡°ê±´ì´ **ëª¨ë‘** ì¶©ì¡±ë˜ì–´ì•¼ í•©ë‹ˆë‹¤:

**1. ë¹„ì„ ì (Non-preemption)**: **ì–´ë–¤ ìì›ì— ëŒ€í•´ í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œê°€ ì ìœ í•œ í›„ ê·¸ ì ìœ í•œ ìì›ì„ ê³„ì† ê°€ì§€ê³  ìˆëŠ” ìƒíƒœ**

```
í™”ì¥ì‹¤ ë°ë“œë½ ì‹œë‚˜ë¦¬ì˜¤

ìŠ¤ë ˆë“œ A: í™”ì¥ì‹¤ ë¬¸ ì ê·¸ê³  ë“¤ì–´ê° â†’ íœ´ì§€ ì—†ìŒì„ ë°œê²¬ â†’ íœ´ì§€ ëŒ€ê¸°
ìŠ¤ë ˆë“œ B: íœ´ì§€ ê°€ì§€ê³  ìˆìŒ â†’ í™”ì¥ì‹¤ ë“¤ì–´ê°€ë ¤ í•¨ â†’ ë¬¸ ì ê²¨ì„œ ëŒ€ê¸°

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš½ í™”ì¥ì‹¤ (ì„ê³„êµ¬ì—­)                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ‘¨ ìŠ¤ë ˆë“œ A                                 â”‚   â”‚
â”‚  â”‚ "íœ´ì§€ê°€ ì—†ì–´... ëˆ„ê°€ ê°€ì ¸ë‹¤ì¤„ ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤"  â”‚   â”‚
â”‚  â”‚ ğŸ”’ ë¬¸ì€ ê³„ì† ì ê¸´ ìƒíƒœ (ë¹„ì„ ì )             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†‘ ë“¤ì–´ê°€ë ¤ í•¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ‘© ìŠ¤ë ˆë“œ B                                        â”‚
â”‚  ğŸ§» íœ´ì§€ ë“¤ê³  ìˆìŒ                                  â”‚
â”‚  "í™”ì¥ì‹¤ ë¬¸ì´ ì ê²¨ìˆì–´... ì–¸ì œ ì—´ë¦´ì§€ ëª¨ë¥´ê² ë„¤"      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê²°ê³¼: ë¬´í•œ ëŒ€ê¸°!
```

**2. ì ìœ ì™€ ëŒ€ê¸°(Hold and Wait)**: **íŠ¹ì • ê³µìœ  ìì›ì— ëŒ€í•´ì„œ í•œ ìŠ¤ë ˆë“œê°€ ì ìœ í•˜ë©´ ë‹¤ë¥¸ ìŠ¤ë ˆë“œëŠ” ì‚¬ìš©í•˜ê¸°ê¹Œì§€ ëŒ€ê¸°í•œë‹¤**

**3. ì›í˜• ëŒ€ê¸°(Circular Wait)**: ìŠ¤ë ˆë“œë“¤ì´ ì„œë¡œì˜ ìì›ì„ ì›í˜•ìœ¼ë¡œ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœ

**4. ìƒí˜¸ ë°°ì œ(Mutual Exclusion)**: í•œ ë²ˆì— í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ ìì› ì‚¬ìš© ê°€ëŠ¥

### ë°ë“œë½ì˜ ì •ì˜ì™€ í˜„ìƒ

**ë°ë“œë½(Deadlock, êµì°©ìƒíƒœ)ì´ë€ ì»´í“¨í„° ì‹œìŠ¤í…œì—ì„œ ë‘˜ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤(ë˜ëŠ” ìŠ¤ë ˆë“œ)ê°€ ì„œë¡œê°€ ê°€ì§€ê³  ìˆëŠ” ìì›ì„ ìš”ì²­í•˜ë©° ë¬´í•œ ëŒ€ê¸° ìƒíƒœì— ë¹ ì§€ëŠ” í˜„ìƒ**ì…ë‹ˆë‹¤.

```java
// ì „í˜•ì ì¸ ë°ë“œë½ ì˜ˆì‹œ
public class DeadlockExample {
    private final Object lock1 = new Object();
    private final Object lock2 = new Object();
    
    public void method1() {
        synchronized (lock1) {          // ìŠ¤ë ˆë“œ Aê°€ lock1 íšë“
            System.out.println("Thread A: lock1 íšë“");
            
            try { Thread.sleep(100); } catch (InterruptedException e) {}
            
            synchronized (lock2) {      // ìŠ¤ë ˆë“œ Aê°€ lock2 ìš”ì²­ (ëŒ€ê¸°)
                System.out.println("Thread A: lock2ë„ íšë“!");
            }
        }
    }
    
    public void method2() {
        synchronized (lock2) {          // ìŠ¤ë ˆë“œ Bê°€ lock2 íšë“
            System.out.println("Thread B: lock2 íšë“");
            
            try { Thread.sleep(100); } catch (InterruptedException e) {}
            
            synchronized (lock1) {      // ìŠ¤ë ˆë“œ Bê°€ lock1 ìš”ì²­ (ëŒ€ê¸°)
                System.out.println("Thread B: lock1ë„ íšë“!");
            }
        }
    }
}

// ì‹¤í–‰ ê²°ê³¼:// Thread A: lock1 íšë“// Thread B: lock2 íšë“// ... (ë¬´í•œ ëŒ€ê¸°)
```

**í”„ë¡œì„¸ìŠ¤ì˜ ìŠ¤ë ˆë“œ 1,2ê°€ í•˜ë‚˜ì˜ ê³µìœ  ìì›ì— ëŒ€í•´ ì ‘ê·¼í•  ë•Œ ê²½ìŸ ì¡°ê±´ì´ ë°œìƒí•˜ë©´ì„œ ì´ë•Œ ì´ ìì›ì— ëŒ€í•´ ë½ì„ ê±¸ê³  ì„ê³„ì˜ì—­ì„ ìˆ˜í–‰í•œë‹¤. ì´ë•Œ ì ìœ í•œ ìŠ¤ë ˆë“œê°€ ë½ì„ í•´ì œí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ëŒ€ê¸°í•˜ëŠ” ìŠ¤ë ˆë“œë“¤ì€ ë¬´í•œì  ëŒ€ê¸° ìƒíƒœì— ë¹ ì§€ê²Œ ë©ë‹ˆë‹¤**.

### ë°ë“œë½ ê°ì§€ì™€ í•´ê²° ë°©ë²•

**ì´ëŸ¬í•œ ë°ë“œë½ì„ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œëŠ” ê³µìœ  ìì›ì— ë‹¤ë¥¸ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œê°€ ì ‘ê·¼í•˜ëŠ” ìŠ¤ë ˆë“œ 1,2ì— ëŒ€í•œ ìƒíƒœë¥¼ ê°ì‹œí•´ì„œ ìŠ¤ë ˆë“œë“¤ì´ ì§€ì†ì ìœ¼ë¡œ wait ìƒíƒœì— ë¹ ì§€ëŠ” ê²ƒì´ ìˆëŠ”ì§€, ì–¼ë§ˆë‚˜ ì˜¤ë˜ ëŒ€ê¸° ìƒíƒœì— ìˆëŠ”ì§€ë¥¼ ê°ì‹œí•©ë‹ˆë‹¤**.

```java
// ë°ë“œë½ ê°ì§€ ë° í•´ê²° ì˜ˆì‹œ
public class DeadlockDetector {
    private final Map<Thread, List<Object>> heldLocks = new ConcurrentHashMap<>();
    private final Map<Thread, Object> waitingFor = new ConcurrentHashMap<>();
    private final ScheduledExecutorService detector = 
        Executors.newScheduledThreadPool(1);
    
    public DeadlockDetector() {
        // 5ì´ˆë§ˆë‹¤ ë°ë“œë½ ê²€ì‚¬
        detector.scheduleAtFixedRate(this::detectDeadlock, 5, 5, TimeUnit.SECONDS);
    }
    
    private void detectDeadlock() {
        System.out.println("=== ë°ë“œë½ ê²€ì‚¬ ì‹œì‘ ===");
        
        for (Thread thread : heldLocks.keySet()) {
            if (thread.getState() == Thread.State.BLOCKED) {
                long waitTime = getWaitTime(thread);
                
                System.out.println(thread.getName() + " - ëŒ€ê¸° ì‹œê°„: " + 
                                 waitTime + "ms, ìƒíƒœ: " + thread.getState());
                
                // 10ì´ˆ ì´ìƒ ëŒ€ê¸° ì¤‘ì¸ ìŠ¤ë ˆë“œ ë°œê²¬
                if (waitTime > 10000) {
                    System.out.println("âš ï¸ ë°ë“œë½ ì˜ì‹¬: " + thread.getName());
                    handleDeadlock(thread);
                }
            }
        }
    }
    
    private void handleDeadlock(Thread suspectedThread) {
        System.out.println("ğŸš¨ ë°ë“œë½ í•´ê²° ì‹œë„: " + suspectedThread.getName() + " ì¢…ë£Œ");
        
        // ë©”ëª¨ë¦¬ ë¤í”„ ìƒì„± (ì‹¤ì œë¡œëŠ” ë” ë³µì¡í•œ êµ¬í˜„ í•„ìš”)
        generateMemoryDump(suspectedThread);
        
        // ìŠ¤ë ˆë“œ ê°•ì œ ì¢…ë£Œ
        suspectedThread.interrupt();
        
        // ìƒˆë¡œìš´ ìŠ¤ë ˆë“œë¡œ ì¬ì‹œì‘
        restartThread(suspectedThread);
    }
    
    private void generateMemoryDump(Thread thread) {
        System.out.println("ğŸ“Š ë©”ëª¨ë¦¬ ë¤í”„ ìƒì„±: " + thread.getName());
        
        // ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ì¶œë ¥
        StackTraceElement[] stackTrace = thread.getStackTrace();
        System.out.println("Call Stack ë¶„ì„:");
        for (StackTraceElement element : stackTrace) {
            System.out.println("  " + element.toString());
        }
        
        // ì–´ë–¤ ë½ì„ ê¸°ë‹¤ë¦¬ê³  ìˆëŠ”ì§€ ë¶„ì„
        Object waitingLock = waitingFor.get(thread);
        if (waitingLock != null) {
            System.out.println("ëŒ€ê¸° ì¤‘ì¸ ë½: " + waitingLock.getClass().getSimpleName());
        }
    }
}
```

**ì´ëŸ° ìƒí™©ì´ ë°œìƒí•  ë•Œ ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ ëŒ€ê¸° ìƒíƒœì— ë¹ ì ¸ìˆëŠ” ìŠ¤ë ˆë“œë“¤ì„ ì œê±°í•˜ë©´ ë©ë‹ˆë‹¤**. **ì¢…ë£Œì‹œí‚¨ ìŠ¤ë ˆë“œë¥¼ ê°ì‹œí•˜ëŠ” ìŠ¤ë ˆë“œê°€ ì¬ì‹¤í–‰ì‹œí‚´ìœ¼ë¡œì¨ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤**. **ê·¸ë˜ì„œ ì¢…ë£Œëœ ìŠ¤ë ˆë“œì˜ ë©”ëª¨ë¦¬ Dumpë¥¼ í†µí•´ì„œ ìŠ¤ë ˆë“œê°€ ê°€ì§€ê³  ìˆëŠ” Call Stackì„ í™•ì¸í•˜ì—¬ ìŠ¤ë ˆë“œê°€ ì–´ë–¤ ì‘ì—…ì„ í•˜ë‹¤ê°€ ëŒ€ê¸° ìƒíƒœì— ë¹ ì§€ê²Œ ëëŠ”ì§€ ë¶„ì„í•˜ë©´ ë©ë‹ˆë‹¤**.

### ë©”ëª¨ë¦¬ ë¤í”„(Memory Dump)ë€?

**ë©”ëª¨ë¦¬ ë¤í”„ëŠ” íŠ¹ì • ì‹œì ì—ì„œ í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œì˜ ë©”ëª¨ë¦¬ ìƒíƒœë¥¼ íŒŒì¼ë¡œ ì €ì¥í•œ ê²ƒ**ì…ë‹ˆë‹¤. ì—¬ê¸°ì—ëŠ” ë‹¤ìŒ ì •ë³´ë“¤ì´ í¬í•¨ë©ë‹ˆë‹¤:

ğŸ“Š ``ë©”ëª¨ë¦¬ ë¤í”„ êµ¬ì„± ìš”ì†Œ
1. ìŠ¤íƒ í”„ë ˆì„ (Stack Frames)
   â€¢ í•¨ìˆ˜ í˜¸ì¶œ ìˆœì„œ
   â€¢ ì§€ì—­ ë³€ìˆ˜ ê°’ë“¤
   â€¢ ë§¤ê°œë³€ìˆ˜ ì •ë³´

2. ë ˆì§€ìŠ¤í„° ìƒíƒœ
   â€¢ CPU ë ˆì§€ìŠ¤í„° ê°’ë“¤
   â€¢ í”„ë¡œê·¸ë¨ ì¹´ìš´í„°(PC)
   â€¢ ìŠ¤íƒ í¬ì¸í„°(SP)

3. í™ ë©”ëª¨ë¦¬ ìƒíƒœ
   â€¢ ë™ì  í• ë‹¹ëœ ê°ì²´ë“¤
   â€¢ ê°ì²´ ê°„ ì°¸ì¡° ê´€ê³„

4. ìŠ¤ë ˆë“œ ìƒíƒœ ì •ë³´
   â€¢ í˜„ì¬ ì‹¤í–‰ ìƒíƒœ
   â€¢ ëŒ€ê¸° ì¤‘ì¸ ë½ ì •ë³´
   â€¢ ìŠ¤ë ˆë“œ IDì™€ ìš°ì„ ìˆœìœ„

### í”„ë¡œì„¸ìŠ¤ ë ˆë²¨ì˜ ë°ë“œë½

**ì´ëŸ¬í•œ êµì°© ìƒíƒœë¥¼ ìŠ¤ë ˆë“œ ë ˆë²¨ì—ì„œ í”„ë¡œì„¸ìŠ¤ ë ˆë²¨ê¹Œì§€ ìƒê°í•´ë³´ë©´** ë” ë³µì¡í•œ ìƒí™©ì´ ë°œìƒí•©ë‹ˆë‹¤.

```
ğŸ–¨ï¸ í”„ë¡œì„¸ìŠ¤ ë ˆë²¨ ë°ë“œë½ ì‹œë‚˜ë¦¬ì˜¤

     P1, P2, P3 (í”„ë¡œì„¸ìŠ¤ë“¤)
        â†“
User   File (íŒŒì¼ ìì›)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Kernel Mode (ì‹œìŠ¤í…œ í˜¸ì¶œ)
        â†“
S/W    Device Driver
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
H/W    Printer (ë¬¼ë¦¬ì  í”„ë¦°í„°)
```

**ë§Œì•½ì— ìœ„ ê·¸ë¦¼ì²˜ëŸ¼ í”„ë¡œì„¸ìŠ¤ 1ë²ˆì´ íŒŒì¼ì„ í†µí•´ ì»¤ë„ ëª¨ë“œë¡œ ì§„ì…í•˜ì—¬ í”„ë¦°í„°ë¼ëŠ” ìì›ì„ ì‚¬ìš©í•˜ë ¤ê³  í•  ë•Œ í”„ë¡œì„¸ìŠ¤ 1ì´ íŒŒì¼ì„ opení•˜ëŠ” ìˆœê°„ í•´ë‹¹ íŒŒì¼ì— ë½ì„ ê±¸ê²Œ ë©ë‹ˆë‹¤**. **ì´ ë§ì€ ì¦‰ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ 2,3ë²ˆì€ ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤**.

```java
// í”„ë¡œì„¸ìŠ¤ ë ˆë²¨ ë°ë“œë½ ì‹œë®¬ë ˆì´ì…˜
public class ProcessLevelDeadlock {
    // ì»¤ë„ ì˜¤ë¸Œì íŠ¸ ì‹œë®¬ë ˆì´ì…˜
    private final Object fileResource = new Object();    // íŒŒì¼ ìì›
    private final Object printerResource = new Object(); // í”„ë¦°í„° ìì›
    
    // í”„ë¡œì„¸ìŠ¤ 1 ì‹œë®¬ë ˆì´ì…˜
    public void process1() {
        try {
            synchronized (fileResource) {  // íŒŒì¼ ë½ íšë“
                System.out.println("í”„ë¡œì„¸ìŠ¤ 1: íŒŒì¼ ì˜¤í”ˆ ì™„ë£Œ");
                
                // 100ì¥ í”„ë¦°íŠ¸ ì‘ì—… ì‹œì‘
                synchronized (printerResource) {
                    System.out.println("í”„ë¡œì„¸ìŠ¤ 1: í”„ë¦°í„° íšë“, 100ì¥ ì¸ì‡„ ì‹œì‘");
                    
                    for (int i = 1; i <= 100; i++) {
                        System.out.println("í”„ë¦°íŠ¸ ì¤‘... " + i + "/100");
                        Thread.sleep(100);  // ì¸ì‡„ ì‹œê°„
                        
                        // 50ì¥ ì¸ì‡„ í›„ ê°•ì œ ì¤‘ë‹¨ ì‹œë®¬ë ˆì´ì…˜
                        if (i == 50) {
                            System.out.println("ğŸ’¥ í”„ë¡œì„¸ìŠ¤ 1: 50ì¥ ì¸ì‡„ í›„ ë¹„ì •ìƒ ì¢…ë£Œ!");
                            // í”„ë¡œì„¸ìŠ¤ê°€ ë¹„ì •ìƒ ì¢…ë£Œë˜ë©´ì„œ ë½ì„ í•´ì œí•˜ì§€ ëª»í•¨
                            throw new RuntimeException("Process crashed!");
                        }
                    }
                }
            }
        } catch (Exception e) {
            System.out.println("í”„ë¡œì„¸ìŠ¤ 1 ì˜¤ë¥˜: " + e.getMessage());
            // ë¹„ì •ìƒ ì¢…ë£Œë¡œ ì¸í•´ ë½ì´ í•´ì œë˜ì§€ ì•ŠìŒ!
        }
    }
    
    // í”„ë¡œì„¸ìŠ¤ 2,3 ì‹œë®¬ë ˆì´ì…˜ (ëŒ€ê¸° ìƒíƒœ)
    public void process2() {
        System.out.println("í”„ë¡œì„¸ìŠ¤ 2: í”„ë¦°í„° ì‚¬ìš© ëŒ€ê¸° ì¤‘...");
        synchronized (printerResource) {  // ë¬´í•œ ëŒ€ê¸°!
            System.out.println("í”„ë¡œì„¸ìŠ¤ 2: í”„ë¦°í„° íšë“ (ì‹¤í–‰ë˜ì§€ ì•ŠìŒ)");
        }
    }
}
```

**ì´ë•Œ í”„ë¡œì„¸ìŠ¤ 1ì´ 100ì¥ì„ í”„ë¦°íŠ¸í•˜ê³  ìˆë‹¤ê°€ 50ì¥ì„ í”„ë¦°íŠ¸í•˜ëŠ” ì‹œì ì—ì„œ í”„ë¡œì„¸ìŠ¤ 1ì´ ì¤‘ë‹¨ë˜ì—ˆë‹¤ë©´ ì´ í”„ë¦°í„°ë¥¼ ì‚¬ìš©í•˜ë ¤ëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ëŒ€ê¸° ìƒíƒœì— ë¹ ì§€ê²Œ ë©ë‹ˆë‹¤**. **ì¦‰, ì‚¬ìš©í•˜ì§€ ëª»í•˜ëŠ” ìì›ì´ ë©ë‹ˆë‹¤**.

### ì»¤ë„ ì˜¤ë¸Œì íŠ¸ ë™ê¸°í™”ì™€ íƒ€ì„ì•„ì›ƒ

**ê·¸ë˜ì„œ ì´ëŸ¬í•œ ì»¤ë„ ì˜¤ë¸Œì íŠ¸ì— ëŒ€í•œ ë™ê¸°í™”ë¥¼ í•  ë•Œ ë³´í†µ ë®¤í…ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³  ì ìœ í•˜ë ¤ëŠ” í”„ë¡œì„¸ìŠ¤ë“¤ì€ ì§„ì… ì‹œì— íƒ€ì„ì„ ëª…ì‹œí•©ë‹ˆë‹¤**.

```java
// íƒ€ì„ì•„ì›ƒì„ ì´ìš©í•œ ë°ë“œë½ ë°©ì§€
import java.util.concurrent.TimeUnit;
import java.util.concurrent.locks.ReentrantLock;

public class TimeoutBasedDeadlockPrevention {
    private final ReentrantLock fileResource = new ReentrantLock();
    private final ReentrantLock printerResource = new ReentrantLock();
    
    public void safeProcess1() {
        boolean fileAcquired = false;
        boolean printerAcquired = false;
        
        try {
            // íŒŒì¼ ìì› íšë“ ì‹œë„ (ìµœëŒ€ 5ì´ˆ ëŒ€ê¸°)
            fileAcquired = fileResource.tryLock(5, TimeUnit.SECONDS);
            if (!fileAcquired) {
                System.out.println("í”„ë¡œì„¸ìŠ¤ 1: íŒŒì¼ ë½ íšë“ ì‹¤íŒ¨ (íƒ€ì„ì•„ì›ƒ)");
                return;
            }
            
            System.out.println("í”„ë¡œì„¸ìŠ¤ 1: íŒŒì¼ ë½ íšë“ ì„±ê³µ");
            
            // í”„ë¦°í„° ìì› íšë“ ì‹œë„ (ìµœëŒ€ 3ì´ˆ ëŒ€ê¸°)
            printerAcquired = printerResource.tryLock(3, TimeUnit.SECONDS);
            if (!printerAcquired) {
                System.out.println("í”„ë¡œì„¸ìŠ¤ 1: í”„ë¦°í„° ë½ íšë“ ì‹¤íŒ¨ (íƒ€ì„ì•„ì›ƒ)");
                return;
            }
            
            System.out.println("í”„ë¡œì„¸ìŠ¤ 1: í”„ë¦°í„° ë½ íšë“ ì„±ê³µ");
            
            // ì‹¤ì œ ì¸ì‡„ ì‘ì—…
            performPrintJob();
            
        } catch (InterruptedException e) {
            System.out.println("í”„ë¡œì„¸ìŠ¤ 1: ì¸í„°ëŸ½íŠ¸ë¡œ ì¸í•œ ì¢…ë£Œ");
            Thread.currentThread().interrupt();
        } finally {
            // ë°˜ë“œì‹œ íšë“í•œ ë½ë“¤ì„ í•´ì œ (ì—­ìˆœìœ¼ë¡œ)
            if (printerAcquired) {
                printerResource.unlock();
                System.out.println("í”„ë¡œì„¸ìŠ¤ 1: í”„ë¦°í„° ë½ í•´ì œ");
            }
            if (fileAcquired) {
                fileResource.unlock();
                System.out.println("í”„ë¡œì„¸ìŠ¤ 1: íŒŒì¼ ë½ í•´ì œ");
            }
        }
    }
    
    private void performPrintJob() throws InterruptedException {
        for (int i = 1; i <= 100; i++) {
            System.out.println("ì•ˆì „í•œ ì¸ì‡„: " + i + "/100");
            Thread.sleep(50);
            
            // ì£¼ê¸°ì ìœ¼ë¡œ ì¸í„°ëŸ½íŠ¸ ì²´í¬
            if (Thread.currentThread().isInterrupted()) {
                System.out.println("ì¸ì‡„ ì‘ì—… ì¤‘ë‹¨ ìš”ì²­ ë°›ìŒ");
                throw new InterruptedException("Print job interrupted");
            }
        }
    }
}
```

### ë°ë“œë½ ë°©ì§€ ì „ëµ ì¢…í•©

ğŸ›¡ï¸ ë°ë“œë½ ë°©ì§€ ì „ëµ

1ï¸âƒ£ ì˜ˆë°© (Prevention)
â€¢ 4ê°€ì§€ ì¡°ê±´ ì¤‘ í•˜ë‚˜ë¼ë„ ì°¨ë‹¨
â€¢ ìì› ìˆœì„œ ì§€ì • (Lock Ordering)
â€¢ íƒ€ì„ì•„ì›ƒ ì„¤ì •

2ï¸âƒ£ íšŒí”¼ (Avoidance)  
â€¢ ì€í–‰ê°€ ì•Œê³ ë¦¬ì¦˜
â€¢ ì•ˆì „í•œ ìƒíƒœ ìœ ì§€

3ï¸âƒ£ íƒì§€ (Detection)
â€¢ ì£¼ê¸°ì  ë°ë“œë½ ê²€ì‚¬
â€¢ ìì› í• ë‹¹ ê·¸ë˜í”„ ë¶„ì„

4ï¸âƒ£ ë³µêµ¬ (Recovery)
â€¢ í”„ë¡œì„¸ìŠ¤/ìŠ¤ë ˆë“œ ê°•ì œ ì¢…ë£Œ
â€¢ ìì› ì„ ì  ë° ì¬í• ë‹¹
â€¢ ì²´í¬í¬ì¸íŠ¸ ë³µêµ¬

**ì‹¤ì œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” íƒ€ì„ì•„ì›ƒ ê¸°ë°˜ì˜ ì˜ˆë°© ì „ëµì´ ê°€ì¥ ì‹¤ìš©ì **ì´ë©°, **ë©”ëª¨ë¦¬ ë¤í”„ë¥¼ í†µí•œ ì‚¬í›„ ë¶„ì„**ìœ¼ë¡œ ë°ë“œë½ì˜ ê·¼ë³¸ ì›ì¸ì„ íŒŒì•…í•˜ì—¬ ì‹œìŠ¤í…œì„ ê°œì„ í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì¸ ì ‘ê·¼ë²•ì…ë‹ˆë‹¤.