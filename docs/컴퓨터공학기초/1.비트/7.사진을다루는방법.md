# 컴퓨터가 사진을 다루는 방법

## 🎨 화소(Pixel)의 기본 개념

모니터 화면 상 `점 하나를 화소(Pixel)`이라 한다. 우리가 사진이라 말하는 것도 여러 점들(Pixel)들의 집합체이다.

**픽셀의 실제 모습:**

```

확대해서 보면:
[●][●][●][●][●]  ← 각 점이 하나의 픽셀
[●][●][●][●][●]
[●][●][●][●][●]

멀리서 보면: 하나의 완전한 이미지
가까이서 보면: 작은 색깔 점들의 모음

```

그래서 이 **Pixel들은 R,G,B들로 이루어져 있다.**

**RGB 구조 상세:**

- **R (Red)**: 빨강 성분 0~255
- **G (Green)**: 초록 성분 0~255
- **B (Blue)**: 파랑 성분 0~255

```

예시:
순수 빨강: R=255, G=0,   B=0   → #FF0000
순수 흰색: R=255, G=255, B=255 → #FFFFFF
회색:     R=128, G=128, B=128 → #808080

```

## 🔢 화소 표현에 필요한 비트 정보

화소 하나를 표현하는데 **8비트, 16비트, 24비트, 32비트 정보가 필요**할 수 있다.

**비트별 상세 분석:**

| 비트 깊이 | 바이트 | 표현 방식 | 색상 수 | 용도 |
| --- | --- | --- | --- | --- |
| **8비트** | 1바이트 | 그레이스케일 | 256가지 | 흑백 사진 |
| **16비트** | 2바이트 | RGB565 | 65,536가지 | 기본 컬러 |
| **24비트** | 3바이트 | RGB888 | 16,777,216가지 | 트루컬러 |
| **32비트** | 4바이트 | RGBA8888 | 16,777,216 + 투명도 | 투명도 포함 |

**색을 표현할때 R,G,B 각각 8비트씩 0~255 단계로 색을 표현한다.**

**8비트 = 256단계 상세:**

```

0   = 00000000₂ = 완전히 어두움 (색상 없음)
128 = 10000000₂ = 중간 밝기
255 = 11111111₂ = 최대 밝기

RGB 조합 예시:
빨강 최대: R=255(FF), G=0(00), B=0(00) = #FF0000
노랑색:   R=255(FF), G=255(FF), B=0(00) = #FFFF00

```

## 🌟 알파 채널과 32비트 구조

여기서 **24 + 8 하면 32비트 정보가 필요한데 이때 +8비트는 색을 표현하는 것이 아닌 `투명도`를 나타낸다.**

**32비트 구조 분해:**

```

32비트 = 24비트(RGB) + 8비트(Alpha)

R: 8비트 (0~255) - 빨강 강도
G: 8비트 (0~255) - 초록 강도
B: 8비트 (0~255) - 파랑 강도
A: 8비트 (0~255) - 투명도

투명도 값의 의미:
0   = 완전 투명 (보이지 않음)
128 = 50% 투명 (반투명)
255 = 완전 불투명 (원본 그대로)

```

픽셀 하나가 있고 그 뒤에 투명도를 표현하는 픽셀이 겹쳐있어서 이 투명도에 따라 겹치는 부분이 달라지게 된다.

**투명도 블렌딩 원리:**

```

배경: 파란색 (0, 0, 255)
전경: 빨간색 (255, 0, 0), 투명도 50%

최종 결과 = (전경 × 투명도) + (배경 × (1-투명도))
         = (255×0.5, 0×0.5, 0×0.5) + (0×0.5, 0×0.5, 255×0.5)
         = (127, 0, 127) → 보라색

```

이 투명도를 다른 말로 **`알파채널`**이라고 한다. 그래서 이 알파채널을 포함해서 **`RGBA`**라고 표현하기도 한다.

**RGBA 실제 사용 예시:**

```

CSS: rgba(255, 0, 0, 0.5)  ← 50% 투명한 빨강
PNG: 32비트 RGBA 지원
GIF: 1비트 투명도만 지원 (완전투명/완전불투명)

```

## 🌈 빛의 3원색과 RGB의 관계

**빛의 3원색은 Red, Green, Blue이다. 이 점에 착안해 RGB 컬러가 등장한다.**

**가산 혼합 vs 감산 혼합:**

```

빛의 3원색 (모니터) - 가산 혼합:
Red + Green + Blue = White (흰색)
빛을 더할수록 밝아짐

물감의 3원색 (프린터) - 감산 혼합:
Cyan + Magenta + Yellow = Black (검정)
색을 더할수록 어두워짐

```

**모니터가 RGB를 사용하는 이유:**

- 인간의 눈에는 빨강, 초록, 파랑을 감지하는 세 종류의 원추세포가 있음
- 이 세 색을 조합하면 인간이 인식할 수 있는 대부분의 색상 표현 가능
- 모니터의 백라이트나 OLED 픽셀이 빛을 발광하므로 가산 혼합 적용

## 📐 화소 크기와 이미지 품질

**화소가 작을수록 사진이 매끄럽다.**

**픽셀 밀도 비교:**

```

저해상도 (픽셀이 큼):          고해상도 (픽셀이 작음):
[■][■][■][■]               [▪][▪][▪][▪][▪][▪][▪][▪]
[■][■][■][■]               [▪][▪][▪][▪][▪][▪][▪][▪]
[■][■][■][■]               [▪][▪][▪][▪][▪][▪][▪][▪]
[■][■][■][■]               [▪][▪][▪][▪][▪][▪][▪][▪]
                           [▪][▪][▪][▪][▪][▪][▪][▪]
거칠고 각진 느낌              부드럽고 자연스러운 느낌

```

**실제 해상도별 차이:**

- **72 PPI**: 웹 화면 표준 (거친 느낌)
- **150 PPI**: 일반 프린터 (보통 품질)
- **300 PPI**: 고품질 인쇄 (매우 부드러움)
- **400+ PPI**: 레티나 디스플레이 (픽셀 구분 불가)

## 파일 크기 계산 실습

그래서 **32비트 화소는 4bytes 정도의 크기**를 가진다. 이때 어떤 사진의 수직 수평 해상도가 **`1024x768`인 사진의 화소의 갯수는 768 * 1024 = 대략 786,432개 픽셀**이다.

**정확한 계산 과정:**

```

1024 × 768 = 786,432픽셀

각 픽셀이 1바이트일 때: 786,432 × 1 = 786,432바이트 ≈ 768KB
각 픽셀이 4바이트일 때: 786,432 × 4 = 3,145,728바이트 ≈ 3MB

실제로는: 3,145,728 ÷ 1024 ÷ 1024 = 3.0MB

```

**다른 해상도 계산 예시:**

```

HD (1280×720):
- 픽셀 수: 921,600개
- 24비트: 2.6MB
- 32비트: 3.5MB

Full HD (1920×1080):
- 픽셀 수: 2,073,600개
- 24비트: 6.0MB
- 32비트: 7.9MB

4K (3840×2160):
- 픽셀 수: 8,294,400개
- 24비트: 23.7MB
- 32비트: 31.6MB

```

## 🗂️ 비트맵(Bitmap)의 구조

그래서 이런 **각각의 화소들에 대한 RGBA를 명시해서 모아둔 집합체를 `bitmap`이라고 한다.

**비트맵의 실제 구조:**

```

비트맵 파일 = 헤더 + 픽셀 데이터

헤더 정보:
- 파일 크기
- 이미지 가로×세로
- 색상 깊이 (1, 8, 24, 32비트)
- 압축 방식

픽셀 데이터:
- 실제 색상 정보들의 나열
- 일반적으로 왼쪽→오른쪽, 아래→위 순서

```

**`bitmap`에 있는 픽셀의 정보를 하나하나 나열한 것을 로우 bitmap**이라고 한다.

**로우 비트맵 예시 (2×2 이미지):**

```

시각적 이미지:
[빨강][초록]
[파랑][흰색]

로우 데이터 (24비트):
FF0000 00FF00  (첫 번째 줄: 빨강, 초록)
0000FF FFFFFF  (두 번째 줄: 파랑, 흰색)

실제 바이트 순서:
FF 00 00 00 FF 00 00 00 FF FF FF FF

```

## 📦 압축의 필요성과 원리

하지만 이런 방식은 **용량을 너무 크게 사용한다.** 따라서 실 사용할 때는 다른 포맷을 사용한다. 예를 들면 **`jpg`, `png`, `gif`를 이용 압축을 통해 용량을 줄인다.**

**용량 문제의 실제 사례:**

```

4K 사진 1장 (비압축):
3840×2160×3바이트 = 24.8MB

스마트폰 사진 100장이면:
24.8MB × 100 = 2.48GB

1년간 매일 10장씩 찍으면:
24.8MB × 10 × 365 = 90.5GB (!!!)

```

그래서 **특정 색상이 존재하지 않는 부분은 흰색 또는 검정색으로 통일하고 색을 처리하게 되면 처리해야 될 정보의 양이 줄어들게 된다.** (일일이 화소의 정보를 나열하지 않아도 된다)

## 주요 포맷별 특징 요약

**실무에서 자주 사용하는 포맷들:**

### **JPEG (.jpg)**

```

특징: 손실 압축, 사진용
압축률: 90-95% (원본 대비 5-10% 크기)
장점: 매우 작은 용량
단점: 품질 손실, 투명도 미지원
용도: 디지털 카메라, 웹 사진

```

### **PNG (.png)**

```

특징: 무손실 압축, 투명도 지원
압축률: 50-80% (원본 대비 20-50% 크기)
장점: 완벽한 품질 유지, 알파 채널
단점: JPEG보다 큰 용량
용도: 로고, 아이콘, 투명 이미지

```

### **GIF (.gif)**

```

특징: 256색 제한, 애니메이션 지원
압축률: 매우 높음 (단순한 이미지)
장점: 애니메이션, 작은 용량
단점: 제한된 색상
용도: 애니메이션, 단순 그래픽

```

## 핵심 요약

1. **픽셀**: 디지털 이미지의 최소 단위, RGB로 구성
2. **비트 깊이**: 8/16/24/32비트로 색상 정보량 결정
3. **알파 채널**: 32비트에서 추가 8비트로 투명도 표현
4. **파일 크기**: 가로×세로×색상깊이(바이트)로 계산
5. **압축**: 같은 색상 반복이나 불필요한 정보 제거로 용량 절약